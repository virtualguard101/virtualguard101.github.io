<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>virtualguard&#39;s Blog â€¢ Posts by &#34;webå¼€å‘&#34; tag</title>
        <link>http://blog.virtualguard101.xyz</link>
        <description>&lt;/&gt;</description>
        <language>zh-CN</language>
        <pubDate>Mon, 23 Jun 2025 12:38:07 +0800</pubDate>
        <lastBuildDate>Mon, 23 Jun 2025 12:38:07 +0800</lastBuildDate>
        <category>linux</category>
        <category>å­¦å¹´æ€»ç»“</category>
        <category>AI+</category>
        <category>Meetup</category>
        <category>webå¼€å‘</category>
        <category>docker</category>
        <item>
            <guid isPermalink="true">http://blog.virtualguard101.xyz/2025/06/23/web/</guid>
            <title>ä¸ªäººç«™ç‚¹æ„å»ºè¦ç‚¹(æ”¹è‰¯ç‰ˆ) &amp;&amp; Web å¼€å‘ç®€è¦å®è·µ</title>
            <link>http://blog.virtualguard101.xyz/2025/06/23/web/</link>
            <category>webå¼€å‘</category>
            <category>docker</category>
            <pubDate>Mon, 23 Jun 2025 12:38:07 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;strong&gt;å¯¹ä»Šå¹´å››æœˆä»½å†™çš„â€œdocker-compose + nginxå¿«é€Ÿæ„å»ºä¸ªäººç«™ç‚¹â€ä¸­æåˆ°çš„æ„å»ºæ–¹å¼ä½œä¸€ä¸‹æ”¹è‰¯ï¼ŒåŒæ—¶æ ¹æ®å­¦åˆ°çš„æŠ€èƒ½æ·»åŠ ä¸€äº›è‡ªå®šä¹‰çš„ç©æ„ï¼Œ2025æš‘å‡æœŸé—´æŒç»­æ›´æ–°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿‘æœŸåœ¨&lt;a href=&#34;https://www.spaceship.com/zh/&#34;&gt;spaceship&lt;/a&gt;ä¸Šè®¢é˜…äº†ä¸€ä¸ªæ–°çš„åŸŸåï¼›åŒæ—¶è¿˜è®¢é˜…äº†ä¸€å°ç¾å›½ç¡…è°·çš„VPSç”¨äºé‡æ„æˆ‘çš„ä¸ªäººç«™ç‚¹ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ˜¯è¦æ­ç¬¬äºŒä¸ªä¸ªäººç«™ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;åšå‡ºè¿™ä¸ªå†³å®šçš„åŸå› ï¼Œä¸€æ–¹é¢æ˜¯æƒ³ç²¾è¿›è‡ªå·±webå¼€å‘çš„èƒ½åŠ›ï¼Œå¤šç‚¹äº®ä¸€äº›ç›¸å…³çš„æŠ€èƒ½æ ‘ï¼›å¦ä¸€æ–¹é¢ï¼Œç¬¬ä¸€ä¸ªç«™ç‚¹çš„æœåŠ¡å™¨é…ç½®å·²ç»è¢«æˆ‘æ…æˆä¸€å¨äº†â€”â€”è™½ç„¶è¿˜ç§°ä¸ä¸ŠğŸ’©å±±ï¼Œä½†æˆ‘å®åœ¨æ˜¯æ‡’å¾—æ•´ç†äº†ï¼Œå¹²è„†ç›´æ¥æå°æ–°çš„æ¥é‡æ„ï¼›åŒæ—¶æ–°æœåŠ¡å™¨çš„è¿æ¥é€Ÿåº¦æ¯”åŸæ¥é‚£ä¸ªå¿«ä¸Šä¸å°‘ä¹Ÿæ˜¯ä¸€ä¸ªåŸå› ï¼Œè¿™æ ·è™½ç„¶è¿˜ç§°ä¸ä¸Šæ˜¯â€œæ–¹ä¾¿ç®¡ç†â€ï¼Œä½†æä¾›ç‚¹æƒ…ç»ªä»·å€¼è¿˜æ˜¯æœ‰çš„ã€‚&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;éƒ¨ç½²è¦ç‚¹-æ‚é¡¹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#éƒ¨ç½²è¦ç‚¹-æ‚é¡¹&#34;&gt;&lt;/a&gt; éƒ¨ç½²è¦ç‚¹ &amp;amp; æ‚é¡¹&lt;/h2&gt;
&lt;h3 id=&#34;éƒ¨ç½²æ”¹è‰¯&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#éƒ¨ç½²æ”¹è‰¯&#34;&gt;&lt;/a&gt; éƒ¨ç½²æ”¹è‰¯&lt;/h3&gt;
&lt;h4 id=&#34;æ”¹è‰¯è¦ç‚¹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ”¹è‰¯è¦ç‚¹&#34;&gt;&lt;/a&gt; æ”¹è‰¯è¦ç‚¹&lt;/h4&gt;
&lt;p&gt;åœ¨ä»Šå¹´çš„å››æœˆä»½æˆ‘æ›¾å‘å¸ƒäº†ä¸€ç¯‡&lt;a href=&#34;https://blog.virtualguard101.xyz/2025/04/26/web-build/&#34;&gt;æ–‡ç« &lt;/a&gt;ï¼Œé‡Œé¢ä¸»è¦æåŠäº† &lt;strong&gt;Docker Compose + Nginx&lt;/strong&gt; â€œä¸€é”®éƒ¨ç½²â€çš„éƒ¨ç½²æ–¹å¼ã€‚å¦‚æœæ‰€éƒ¨ç½²çš„æœåŠ¡æ¨¡å—åŸºæœ¬é«˜åº¦ç¨³å®šï¼ŒåŸºæœ¬ä¸éœ€è¦é€šè¿‡æš‚åœæœåŠ¡æ¥å¤„ç†é›†æˆ/äº¤ä»˜é—®é¢˜ï¼Œæˆ–è€…æœåŠ¡ä¹‹é—´å‡ ä¹ä¸å­˜åœ¨ä¾èµ–å…³ç³»æˆ–ä¾èµ–å…³ç³»ååˆ†ç®€å•ï¼Œé‚£ä¹ˆè¿™è¿™ç§éƒ¨ç½²æ–¹å¼å°±ä¸ä¼šæœ‰ä»€ä¹ˆå¤ªå¤§çš„é—®é¢˜ï¼›ç„¶è€Œï¼Œå€˜è‹¥éœ€è¦çµæ´»çš„å¼€å‘åœºæ™¯ï¼Œä¾‹å¦‚éœ€è¦ç»å¸¸æ€§ä¸ºç«™ç‚¹æ·»åŠ æ–°çš„æœåŠ¡ï¼Œæˆ–æ˜¯å­˜åœ¨éœ€è¦é€šè¿‡åœæ­¢æœåŠ¡æ¥è¿›è¡Œé…ç½®çš„æœåŠ¡ï¼ŒåŒæ—¶æœåŠ¡ä¸æœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»é”™ç»¼å¤æ‚ï¼Œä½¿ç”¨è¿™æ ·&lt;strong&gt;ä¸€ä½“åŒ–&lt;/strong&gt;çš„éƒ¨ç½²æ–¹å¼å°±éœ€è¦å°†æ‰€æœ‰æœåŠ¡ä¸€å¹¶åœæ­¢ï¼Œè¿™æ ·å°±ä¸åˆ©äºé«˜æ•ˆå¼€å‘ä¸”ä¼šé™ä½ç«™ç‚¹çš„å¯è®¿é—®æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä¼šé™ä½å¯è®¿é—®æ€§å¾ˆå¥½ç†è§£â€”â€”éœ€è¦é¢‘ç¹åœ°å…³é—­æœåŠ¡åœ¨è®¿é—®è€…çœ¼é‡Œå°±æ˜¯ä¸ç¨³å®šçš„è¡¨ç°ã€‚å¯¹äºä¸åˆ©äºé«˜æ•ˆå¼€å‘çš„é—®é¢˜æˆ‘ä»¬ä¸¾ä¸€ä¸ªä¾‹å­ï¼šå‡è®¾ä½ æƒ³éƒ¨ç½²ä¸€ä¸ªæœåŠ¡ï¼Œä½†æ˜¯è¿™ä¸ªæœåŠ¡éœ€è¦è°ƒç”¨å¦ä¸€ä¸ªåŒæ ·éƒ¨ç½²åœ¨è¯¥ä¸»æœºä¸Šçš„æŸä¸ªæœåŠ¡çš„APIã€‚ä¸ºäº†æ·»åŠ è¿™ä¸ªæœåŠ¡ï¼Œä½ é¦–å…ˆéœ€è¦æŠŠè¯¥ä¸»æœºä¸Šéƒ¨ç½²çš„æ‰€æœ‰æœåŠ¡å…ˆé€šè¿‡&lt;code&gt;docker compose down&lt;/code&gt;åœæ­¢è¿è¡Œï¼Œç„¶åæ·»åŠ è¿™ä¸ªæœåŠ¡çš„é…ç½®ï¼›åœ¨æ­£å¼éƒ¨ç½²å‰ï¼Œä½ æƒ³è¦æµ‹è¯•ä¸€ä¸‹è¿™ä¸ªæœåŠ¡çš„åŠŸèƒ½å¦‚ä½•ï¼Œç»“æœå‘ç°ä¾èµ–çš„APIæ— æ³•è°ƒç”¨â€”â€”å› ä¸ºå®ƒè¢«åœæ­¢äº†ï¼›ç„¶åä½ ç´¢æ€§å°±ä¸æµ‹è¯•äº†ï¼Œç›´æ¥&lt;code&gt;docker compose up -d&lt;/code&gt;ä¸€é”®éƒ¨ç½²ï¼Œç»“æœé…ç½®å‡ºäº†é—®é¢˜â€”â€”è¿æ°”å¥½ç‚¹çš„è¯ï¼Œåªæœ‰æ–°æœåŠ¡çš„å®¹å™¨æ— æ³•è¿è¡Œï¼›è¿æ°”ä¸å¥½çš„è¯ï¼Œæ–°æœåŠ¡å¯èƒ½æ‰§è¡Œäº†ä¸€ä¸ªæœªå®šä¹‰è¡Œä¸ºåœ¨ï¼Œæˆ–è€…ä¼ å…¥äº†ä¸€ä¸ªæœªå®šä¹‰å‚æ•°åˆ°APIæœåŠ¡é‡Œï¼Œç»“æœå¯¼è‡´APIæœåŠ¡ä¹Ÿå´©æºƒäº†ï¼Œä¾èµ–è¿™ä¸ªAPIæœåŠ¡çš„å…¶ä»–æœåŠ¡ä¹Ÿå°±è·Ÿç€å´©æºƒäº†ï¼Œç•™ä¸‹ä¸€å¤§å †ä¸çœ‹ä¸Šå»æ–°æœåŠ¡æ¯«æ— å…³è”çš„æŠ¥é”™ä¿¡æ¯å’Œé˜…è¯»ç€å¦‚ğŸ’©å±±ä¸€èˆ¬æŠ¥é”™ä¿¡æ¯é£ä¸­å‡Œä¹±çš„ä½ â€¦åŸæœ¬åªè¦çœ‹ä¸€ä¸ªæœåŠ¡çš„æŠ¥é”™ï¼Œç°åœ¨è¦çœ‹å¥½å‡ ä¸ªï¼Œè€Œä¸”å…¶ä¸­çš„ä¾èµ–å…³ç³»å¯èƒ½è¿˜å¾ˆå¤æ‚ï¼é‚£æ ·çš„æŠ¥é”™ä¿¡æ¯æ‡‚çš„éƒ½æ‡‚ï¼Œæ ¹æœ¬å°±ä¸æ˜¯ç»™äººçœ‹çš„ã€‚è¿™ç§æƒ…å†µå°±ä¼šå¤§å¤§å¢åŠ debugçš„å‹åŠ›ï¼Œä¹Ÿå°±é™ä½äº†å¼€å‘æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦é€šè¿‡æŠŠåŸæ¥é«˜åº¦é›†ä¸­çš„å¾®æœåŠ¡åˆ†æ•£å¼€æ¥é…ç½®ä¸éƒ¨ç½²æ¥è§£å†³å¯èƒ½è¢«â€œä¸€é”…ç«¯â€çš„é—®é¢˜ã€‚é’ˆå¯¹æ™®é€šçš„ä¸ªäººç«™ç‚¹ï¼Œå®ç°çš„æ€è·¯ä¹Ÿå¾ˆç®€å•ï¼Œç°æˆæœåŠ¡çš„éƒ¨ç½²å·¥å…·ä»ç„¶æ˜¯Docker + Nginxï¼Œä½†è¿™æ¬¡æˆ‘ä»¬å°†äºŒè€…ç‹¬ç«‹å¼€æ¥ã€‚ç®€å•æ¥è¯´ï¼Œæ—§ç‰ˆçš„éƒ¨ç½²æ–¹å¼æ˜¯&lt;strong&gt;å°†Nginxçš„è½¬å‘æœåŠ¡ä¹Ÿä¸€å¹¶è¿è¡ŒäºDocker&lt;/strong&gt;ï¼Œå„ä¸ªç”±Nginxè½¬å‘çš„å­æœåŠ¡ç”±Dockeréƒ¨ç½²ï¼Œ&lt;strong&gt;æ‰€æœ‰çš„æœåŠ¡å‡é…ç½®äºå•ä¸ª&lt;code&gt;docker-compose.yml&lt;/code&gt;ä¸­&lt;/strong&gt;ï¼Œå¯å‚è€ƒä¸‹å›¾ç†è§£ï¼š&lt;/p&gt;
&lt;pre class=&#34;mermaid&#34;&gt;stateDiagram-v2

  A: docker-compose.yml
  state A {
    [*] --&gt; service1
    [*] --&gt; service2
    [*] --&gt; ........
    [*] --&gt; serviceN

    B: Backend Services
    state B {
      service1 --&gt; Nginx: forward
      service2 --&gt; Nginx: forward
      ........ --&gt; Nginx: forward
      serviceN --&gt; Nginx: forward
    }

    state Nginx {
      Description: Running In Container
    }
  }

  Nginx --&gt; Front&lt;/pre&gt;
&lt;p&gt;è€Œæˆ‘ä»¬ç°åœ¨çš„æ€è·¯åˆ™æ˜¯å°†ä¸åŒæœåŠ¡çš„&lt;strong&gt;éƒ¨ç½²é…ç½®&lt;/strong&gt;(è¿™é‡Œç‰¹æŒ‡&lt;code&gt;docker-compose.yml&lt;/code&gt;)åˆ†æ•£åˆ°å„ä¸ªæœåŠ¡ç‹¬ç«‹çš„é…ç½®è·¯å¾„ä¸Šè¿›è¡Œé…ç½®å¹¶ç”±Dockeréƒ¨ç½²ï¼Œæœ€åç”±è¿è¡Œäºå…¨å±€ç¯å¢ƒçš„Nginxè¿›è¡Œè½¬å‘ï¼š&lt;/p&gt;
&lt;pre class=&#34;mermaid&#34;&gt;stateDiagram-v2

  A: Backend Services
  state A {
    B: docker-compose.yml
    C: docker-compose.yml
    D: docker-compose.ymls
    E: docker-compose.yml

    state B {
      [*] --&gt; service1
    }

    state C {
      [*] --&gt; service2
    }

    state D {
      [*] --&gt; ........
    }

    state E {
      [*] --&gt; serviceN
    }
  }

  state Nginx {
    Description: Running Globally
  }

  service1 --&gt; Nginx: forward
  service2 --&gt; Nginx: forward
  ........ --&gt; Nginx: forward
  serviceN --&gt; Nginx: forward

  Nginx --&gt; Front&lt;/pre&gt;
&lt;p&gt;ç†è®ºå­˜åœ¨ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ &lt;s&gt;é­”æ³•æ—¶é—´&lt;/s&gt; å®é™…é…ç½®äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;éƒ¨ç½²æµç¨‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#éƒ¨ç½²æµç¨‹&#34;&gt;&lt;/a&gt; éƒ¨ç½²æµç¨‹&lt;/h4&gt;
&lt;h5 id=&#34;ç¯å¢ƒé…ç½®&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ç¯å¢ƒé…ç½®&#34;&gt;&lt;/a&gt; ç¯å¢ƒé…ç½®&lt;/h5&gt;
&lt;p&gt;é¦–å…ˆæ˜¯é…ç½®ç¯å¢ƒä¾èµ–ã€‚å¯¹äºæœåŠ¡å™¨å’ŒåŸŸåçš„é…ç½®è¿™é‡Œè¡¥å……ä¸€ä¸ªä¸ºæœåŠ¡å™¨æ·»åŠ äº¤æ¢ç©ºé—´çš„&lt;a href=&#34;https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-22-04#step-3-creating-a-swap-file&#34;&gt;æ•™ç¨‹&lt;/a&gt;ï¼ˆå¯¹äºâ€œä»€ä¹ˆæ˜¯äº¤æ¢ç©ºé—´â€ã€â€œäº¤æ¢ç©ºé—´æœ‰ä»€ä¹ˆç”¨â€ï¼Œè¿™ç¯‡æ•™ç¨‹æè¿°å¾—è¶³å¤Ÿè¯¦å°½äº†ï¼‰ï¼Œå…¶ä½™éƒ¨åˆ†ä¸å†èµ˜è¿°ï¼Œä¸»è¦çœ‹çœ‹ä¸¤ä¸ªéƒ¨ç½²å·¥å…·ä»¥åŠä¸€äº›å¯èƒ½éœ€è¦ç”¨åˆ°çš„å·¥å…·çš„é…ç½®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Docker&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®‰è£…&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;curl -fsSL https://get.docker.com | bash -s docker&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt install docker-compose&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;é…ç½®ç”¨æˆ·ç»„&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; groupadd docker &lt;span class=&#34;comment&#34;&gt;# è‹¥å°šä¸å­˜åœ¨ docker ç»„ï¼Œåˆ™éœ€å…ˆåˆ›å»º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; usermod -aG docker &lt;span class=&#34;variable&#34;&gt;$USER&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
é…ç½®å®Œç”¨æˆ·ç»„åéœ€è¦é‡å¯ä½¿é…ç½®ç”Ÿæ•ˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Nginx&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»å‰é¢çš„ç†è®ºæ–¹æ¡ˆä¸­æˆ‘ä»¬çŸ¥é“ï¼Œè¿™æ¬¡çš„Nginxä¸å†è¿è¡Œäºå®¹å™¨ä¹‹ä¸­ï¼Œè€Œæ˜¯è¿è¡Œåœ¨å…¨å±€ç¯å¢ƒä¸‹çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…å®ƒï¼š&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt install nginx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;å°†NginxæœåŠ¡è®¾ç½®ä¸ºå¼€æœºè‡ªå¯&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; systemctl &lt;span class=&#34;built_in&#34;&gt;enable&lt;/span&gt; nginx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;certbotï¼ˆSSLè¯ä¹¦ç”³è¯·å·¥å…·ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®‰è£…&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt install certbot&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;cronï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®‰è£…&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt install cron&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç›®å½•ç»“æ„&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ç›®å½•ç»“æ„&#34;&gt;&lt;/a&gt; ç›®å½•ç»“æ„&lt;/h5&gt;
&lt;p&gt;é…ç½®å®Œç¯å¢ƒä¾èµ–ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ä¸ºéƒ¨ç½²åšå‡†å¤‡äº†ï¼Œé¦–å½“å…¶å†²çš„è‡ªç„¶æ˜¯ä¸ºä¸åŒçš„åˆ†åˆ«æœåŠ¡åˆ›å»ºç‹¬ç«‹çš„é…ç½®ä¸æ•°æ®ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ”¹è‰¯ç†è®ºæ–¹æ¡ˆä¸­æˆ‘ä»¬æåˆ°ï¼Œè¦ä¸ºæ¯ä¸ªå¾®æœåŠ¡ç‹¬ç«‹é…ç½®ä¸€ä¸ª&lt;code&gt;docker-compose.yml&lt;/code&gt;ä»¥å®ç°ä¸åŒæœåŠ¡ä¹‹é—´çš„ç›¸äº’ç‹¬ç«‹ä¸äº’ä¸å¹²æ‰°â€”â€”è¿™æ˜¯ä¸æ—§æ–¹æ¡ˆæœ€ä¸ºæœ¬è´¨çš„åŒºåˆ«ï¼›ä½†åœ¨ç›®å½•åˆ›å»ºä¸ç®¡ç†ä¸Šï¼Œæˆ‘ä»¬ç°åœ¨æ‰€ä»‹ç»çš„æ–°æ–¹æ¡ˆåˆ™ä¸æ—§æ–¹æ¡ˆæ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªé’ˆå¯¹æ–°æ–¹æ¡ˆçš„webæœåŠ¡ç›®å½•ç»“æ„æ¡ˆä¾‹ï¼ˆå…¶ä¸­åŒ…å«äº†ä¸¤ä¸ªåç«¯æœåŠ¡ï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;~/webservices&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”œâ”€â”€ service1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”‚Â Â  â”œâ”€â”€ config&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”‚Â Â  â”‚Â Â  â””â”€â”€ config.json&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”‚Â Â  â”œâ”€â”€ docker-compose.yml&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”‚Â Â  â”œâ”€â”€ fonts&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”‚Â Â  â””â”€â”€ icons&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”œâ”€â”€ nginx -&amp;gt; /etc/nginx&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”œâ”€â”€ scripts&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”‚Â Â  â”œâ”€â”€ servicesManager.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”‚Â Â  â””â”€â”€ sslrenew.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â””â”€â”€ service2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    â”œâ”€â”€ docker-compose.yml&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    â””â”€â”€ data&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        â””â”€â”€ .....&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯¹äºæˆ‘ä»¬éœ€è¦éƒ¨ç½²çš„åç«¯æœåŠ¡è€Œè¨€ï¼Œæ¯ä¸ªå¾®æœåŠ¡çš„é…ç½®ä»ç„¶åˆ†å±äºå„ä¸ªç›®å½•ä¸­ã€‚ä¸æ—§æ–¹æ¡ˆå”¯ä¸€çš„ä¸åŒåœ°æ–¹å°±æ˜¯å„ä¸ªæœåŠ¡çš„ç›®å½•ä¸‹éƒ½å¤šäº†ä¸€ä¸ªå±äºå®ƒä»¬è‡ªå·±çš„&lt;code&gt;docker-compose.yml&lt;/code&gt;ï¼Œç›¸å½“äºæŠŠæ—§æ–¹æ¡ˆä¸­å­˜åœ¨ä¸webæœåŠ¡é›†ç¾¤æ ¹ç›®å½•çš„&lt;code&gt;docker-compose.yml&lt;/code&gt;é…ç½®è‚¢è§£åˆ°å„ä¸ªæœåŠ¡ç‹¬ç«‹çš„ç›®å½•ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä½ å¯èƒ½ä¼šå‘ç°nginxçš„ç›®å½•æ˜¯ä¸€ä¸ª&lt;strong&gt;è½¯é“¾æ¥&lt;/strong&gt;ï¼Œå…³äºè¿™ä¸ªæˆ‘ä»¬æ¥ä¸‹æ¥åœ¨&lt;a href=&#34;#Nginx%E7%9A%84%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE&#34;&gt;Nginxçš„é…ç½®&lt;/a&gt;ä¸­ä»‹ç»ã€‚&lt;/p&gt;
&lt;h5 id=&#34;nginxçš„å…¨å±€é…ç½®&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#nginxçš„å…¨å±€é…ç½®&#34;&gt;&lt;/a&gt; Nginxçš„å…¨å±€é…ç½®&lt;/h5&gt;
&lt;p&gt;å¯¹äºå„ä¸ªæœåŠ¡&lt;code&gt;docker-compose.yml&lt;/code&gt;çš„é…ç½®è¿™é‡ŒåŸºæœ¬æ²¡æœ‰æ–°çš„ä¸œè¥¿å¯ä»¥ä»‹ç»ï¼Œå…¶ä¸­ä¸€ä¸ªæ¯”è¾ƒæ˜æ˜¾çš„åŒºåˆ«å°±æ˜¯ç½‘è·¯ç¯å¢ƒå˜æˆå…¨å±€çš„äº†ï¼Œæ‰€ä»¥ä¸ç”¨åœ¨é¢å¤–é…ç½®&lt;code&gt;networks&lt;/code&gt;å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ä¸»è¦çš„åŒºåˆ«è¿˜æ˜¯åœ¨&lt;code&gt;nginx.conf&lt;/code&gt;çš„é…ç½®ä¸Šï¼Œå› æ­¤æˆ‘ä»¬æ¥ä¸‹æ¥è¯¦ç»†ä»‹ç»ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºè¿™æ¬¡çš„Nginxè¿è¡Œåœ¨å…¨å±€ç¯å¢ƒä¸‹ï¼Œè‡ªç„¶ä¹Ÿéœ€è¦é€šè¿‡ç¼–è¾‘å…¨å±€çš„é…ç½®æ–‡ä»¶æ¥é©±åŠ¨å…¶æ‰§è¡Œè½¬å‘æœåŠ¡ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨Linuxä¸­ï¼ŒNginxçš„å…¨å±€é…ç½®&lt;code&gt;nginx.conf&lt;/code&gt;ä½äºè·¯å¾„&lt;code&gt;/etc/nginx&lt;/code&gt;ä¸‹ï¼Œéœ€è¦&lt;strong&gt;sudoææƒ&lt;/strong&gt;æ‰å¯ä»¥ä¿å­˜é…ç½®ï¼Œå¦‚æœä½¿ç”¨vscodeçš„è¿œç¨‹èµ„æºç®¡ç†å™¨è¿æ¥çš„æœåŠ¡å™¨ï¼Œå¯èƒ½æ— æ³•ç›´æ¥åœ¨çª—å£ä¸Šç›´æ¥ä½¿ç”¨vscodeç¼–è¾‘&lt;code&gt;nginx.conf&lt;/code&gt;ï¼Œæ¯”è¾ƒæ–¹ä¾¿ä¸”å®‰å…¨çš„è§£å†³æ–¹æ³•æœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯ç›´æ¥åœ¨ç»ˆç«¯ä¸Šææƒä½¿ç”¨vimå¯¹ç›®æ ‡æ–‡ä»¶è¿›è¡Œç¼–è¾‘ &lt;s&gt;é‚£æˆ‘è¿˜ç”¨vscodeå¹²ä»€ä¹ˆ&lt;/s&gt;ï¼›è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯å®‰è£…æ’ä»¶&lt;a href=&#34;https://marketplace.visualstudio.com/items?itemName=yy0931.save-as-root&#34;&gt;Save as Root in Remote&lt;/a&gt;ï¼Œé€šè¿‡æ’ä»¶ææƒä¿å­˜ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œå¦‚æœæ˜¯ä½¿ç”¨vscodeè¿›è¡Œçš„è¿œç¨‹è¿æ¥ï¼Œå¯ä»¥åœ¨é€šè¿‡åœ¨webæœåŠ¡é›†ç¾¤çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºNginxé…ç½®ç›®å½•(&lt;code&gt;/etc/nginx&lt;/code&gt;)å’Œæ—¥å¿—ç›®å½•(&lt;code&gt;/var/log/nginx&lt;/code&gt;)çš„&lt;strong&gt;è½¯é“¾æ¥&lt;/strong&gt;æ¥æé«˜å¼€å‘æ•ˆç‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;äº‹å®ä¸Šï¼Œæ–°æ–¹æ¡ˆåœ¨é…ç½®å†…å®¹ä¸Šåªéœ€è¦ä¿®æ”¹å‡ ä¸ªå‚æ•°ï¼Œæ€»ä½“çš„é…ç½®å¯èƒ½æ¯”æ—§æ–¹æ¡ˆè¿˜æ›´å¥½ç†è§£ï¼Œä¸‹é¢ç»™å‡ºä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;å‡è®¾æœ‰ä¸€ä¸ªå¾…è½¬å‘çš„æœåŠ¡è¿è¡Œäºä¸»æœºçš„5000ç«¯å£ä¸Šï¼Œé‚£ä¹ˆæœ‰ä»¥ä¸‹é…ç½®æ¨¡æ¿å¯ä¾›å‚è€ƒï¼ˆæ³¨æ„éœ€è¦æ’å…¥åˆ°åˆç†çš„ä½ç½®ï¼Œ&lt;code&gt;nginx.conf&lt;/code&gt;åœ¨å®‰è£…Nginxæ—¶é€šå¸¸ä¼šè‡ªå¸¦ä¸€äº›é…ç½®ï¼›åœ¨è¿™é‡Œï¼Œâ€œåˆç†çš„ä½ç½®â€&lt;strong&gt;è‡³å°‘&lt;/strong&gt;æŒ‡çš„æ˜¯è¦åœ¨&lt;code&gt;http&lt;/code&gt;æ¨¡å—ä¸­ï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	listen 80;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	# listen [::]:80;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	server_name  your_domain.here;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	server_tokens off;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	#é…ç½®httpéªŒè¯å¯è®¿é—®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	location /.well-known/acme-challenge/ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		root /usr/share/certbot/www;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	#httpè·³è½¬åˆ°https&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	location / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		return 301 https://$host$request_uri;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;#  server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; #   listen 80;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;#   server_name  your_domain.here;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; #   location / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; #     proxy_pass http://127.0.0.1:5000;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; #     proxy_set_header Host $host;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; #     proxy_set_header X-Real-IP $remote_addr;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; #     proxy_set_header X-Forwarded-Proto $scheme;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; #   &amp;#125;       &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; #   # å¼ºåˆ¶HTTPSé‡å®šå‘&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; #   # return 301 https://$host$request_uri;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; # &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	listen 443 ssl http2;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	server_name  your_domain.here;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	ssl_certificate /etc/letsencrypt/live/your_domina.here/fullchain.pem;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	ssl_certificate_key /etc/letsencrypt/live/your_domain.here/privkey.pem;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	location / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		proxy_pass http://127.0.0.1:5000;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		proxy_set_header Host $host;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		proxy_set_header X-Real-IP $remote_addr;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		proxy_set_header X-Forwarded-Proto $scheme;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é…ç½®ä¸Šçš„åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œç®€å•ç†è§£å°±æ˜¯åœ¨ç”¨æˆ·è®¿é—®è¿è¡Œäº&lt;code&gt;80&lt;/code&gt;/&lt;code&gt;443&lt;/code&gt;çš„HTTP/HTTPSæœåŠ¡æ—¶ï¼Œå°†è¿è¡Œäº&lt;code&gt;5000&lt;/code&gt;ç«¯å£ä¸Šçš„åç«¯æœåŠ¡ä½œä¸€æ¬¡è½¬å‘ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;âš ï¸æ³¨æ„åœ¨&lt;code&gt;docker-compose.yml&lt;/code&gt;ä¸­ï¼Œ&lt;code&gt;port&lt;/code&gt;å‚æ•°&lt;code&gt;:&lt;/code&gt;å‰çš„ç«¯å£å·æ‰æ˜¯å®¿ä¸»æœºçš„ç«¯å£å·ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦å†™å…¥&lt;code&gt;nginx.conf&lt;/code&gt;çš„ç«¯å£å·&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;sslè¯ä¹¦ç”³è¯·&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sslè¯ä¹¦ç”³è¯·&#34;&gt;&lt;/a&gt; SSLè¯ä¹¦ç”³è¯·&lt;/h5&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡ç”³è¯·çš„æ“ä½œå’Œå®šæ—¶ä»»åŠ¡çš„é…ç½®å¯ä»¥å‚è€ƒ&lt;a href=&#34;https://kasuie.cc/article/22&#34;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è™½ç„¶å·²ç»è¿è¡Œäº†NginxæœåŠ¡ï¼Œä½†æˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡&lt;code&gt;standalone&lt;/code&gt;æ¨¡å¼è·å–è¯ä¹¦ï¼Œä½†è¿™éœ€è¦å…ˆå°†NginxæœåŠ¡å…³é—­ä»¥é‡Šæ”¾&lt;code&gt;80&lt;/code&gt;ç«¯å£ï¼Œå¦åˆ™ä¼šæç¤ºç«¯å£è¢«å ç”¨è€Œæ— æ³•ç”³è¯·ï¼›ç”³è¯·å®Œè¯ä¹¦åå†é‡æ–°å¯åŠ¨Nginxå³å¯ã€‚å½“ç„¶ï¼Œä¹Ÿå¯é€šè¿‡&lt;code&gt;webroot&lt;/code&gt;æ¨¡å¼ç›´æ¥ç”³è¯·ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;âš ï¸ç”±äºä½¿ç”¨certbotæ—¶éœ€è¦ææƒè¿è¡Œï¼Œæ‰€ä»¥åœ¨é…ç½®å®šæ—¶ä»»åŠ¡æ—¶ä¹Ÿéœ€è¦è¿›è¡Œsudoææƒï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; crontab -e&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦åˆ™å¯èƒ½ä¼šé‡åˆ°å®šæ—¶ä»»åŠ¡æ— æƒé™è¿è¡Œcertbotçš„å°´å°¬æƒ…å†µ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;æœåŠ¡ç®¡ç†è„šæœ¬&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœåŠ¡ç®¡ç†è„šæœ¬&#34;&gt;&lt;/a&gt; æœåŠ¡ç®¡ç†è„šæœ¬&lt;/h5&gt;
&lt;p&gt;å½“æœåŠ¡æ•°é‡è¶Šæ¥è¶Šå¤šï¼Œä¸”ä¾èµ–å…³ç³»è¶Šæ¥è¶Šå¤æ‚æ—¶ï¼Œæ¯æ¬¡éœ€è¦é…ç½®ä¸€ä¸ªæœåŠ¡å¯èƒ½å°±éœ€è¦é¢‘ç¹åœ°åˆ‡æ¢ç›®å½•ä»¥åŠè¾“å…¥ä¸€äº›å†—é•¿çš„å‘½ä»¤ï¼Œè¿™æ—¶å°±å¯ä»¥é€šè¿‡ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬æ¥ &lt;s&gt;å·æ‡’&lt;/s&gt; æé«˜æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºé€»è¾‘æ¯”è¾ƒç®€å•ï¼ˆæ¯”å¦‚çº¿æ€§é€»è¾‘ï¼‰ä¸”shellå‘½ä»¤ç›¸å¯¹å¯†é›†çš„ç³»åˆ—æ“ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ç¼–å†™shellè„šæœ¬æ¥è§£å†³ï¼›è€Œå¯¹äºé€»è¾‘ç›¸å¯¹å¤æ‚æˆ–å¯¹å¯æ‰©å±•æ€§è¦æ±‚è¾ƒé«˜çš„ç³»åˆ—æ“ä½œä¸åŠŸèƒ½ï¼Œæˆ‘ä»¬å°±å¯ä»¥äº¤ç»™pythonè„šæœ¬æ¥è§£å†³ï¼Œè¿™æ ·ä¸å®¹æ˜“å‡ºé”™ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–å†™pythonè„šæœ¬å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®‰è£…pythonï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt install python3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt install pip&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Ubuntué»˜è®¤å®‰è£…python3.10ï¼Œå¦‚æœå¯¹ç‰ˆæœ¬æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œå¯ä»¥å®‰è£…ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒç®¡ç†å™¨ã€‚è¿™é‡Œä»¥&lt;a href=&#34;https://docs.astral.sh/uv/&#34;&gt;uv&lt;/a&gt;ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;curl -LsSf https://astral.sh/uv/install.sh | sh&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é’ˆå¯¹æˆ‘çš„ä¸ªäººç«™ç‚¹ï¼Œæˆ‘ä¸ºå…¶å†™äº†ä¸€ä¸ªé›†æˆäº†&lt;strong&gt;æœåŠ¡æ³¨å†Œ&lt;/strong&gt;ã€&lt;strong&gt;æœåŠ¡ç®¡ç†&lt;/strong&gt;ä»¥åŠ&lt;strong&gt;æœåŠ¡åˆ é™¤&lt;/strong&gt;ä¸‰ä¸ªä¸»è¦æ“ä½œçš„è„šæœ¬é›†åˆï¼Œå¹¶å°†å…¶ä½œä¸ºä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰åŒ…ä½¿ç”¨ã€‚é¡¹ç›®åœ°å€å¯è§&lt;a href=&#34;https://github.com/virtualguard101/WebServicesManager&#34;&gt;GitHub&lt;/a&gt;æˆ–æˆ‘çš„&lt;a href=&#34;https://gitea.virtualguard101.com/virtualguard101/webscripts&#34;&gt;ä¸ªäººè¿œç¨‹ä»“åº“&lt;/a&gt;ã€‚&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://blog.virtualguard101.xyz/2025/04/26/web-build/</guid>
            <title>docker-compose + nginxå¿«é€Ÿæ„å»ºä¸ªäººç«™ç‚¹</title>
            <link>http://blog.virtualguard101.xyz/2025/04/26/web-build/</link>
            <category>webå¼€å‘</category>
            <category>docker</category>
            <pubDate>Sat, 26 Apr 2025 23:28:57 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;strong&gt;æœ¬æ–‡ä¸»è¦è®²è§£å¦‚ä½•ä»é›¶å¼€å§‹åˆ©ç”¨docker-compose + nginxå¿«é€Ÿæ„å»ºä¸€ä¸ªä¸ªäººç«™ç‚¹ï¼›å¹¶åˆ©ç”¨Github Actionå®ç°æ–‡ç« éƒ¨ç½²è‡ªåŠ¨åŒ–ï¼›æœ€åæ˜¯å¦‚ä½•ä½¿ç”¨certbotä¸ºç«™ç‚¹è‡ªåŠ¨åŒ–ç”³è¯·sslè¯ä¹¦ã€‚æ•´å¥—é…ç½®æµç¨‹åšä¸‹æ¥ç”¨æ—¶åŸºæœ¬ä¸Šä¸ä¼šè¶…è¿‡3å¤©&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;èµ·å› æ˜¯æˆ‘å†³å®šæ­å»ºä¸€ä¸ªä¸ªäººç«™ç‚¹ç”¨äºæ¨¡å—åŒ–æ•´åˆèµ„æºï¼Œåœ¨æœç½—ä¸»é¡µä¸»é¢˜æ—¶å› ä¸ºéƒ¨ç½²ç®€å•ç›¸ä¸­äº†&lt;a href=&#34;https://github.com/kasuie/remio-home&#34;&gt;remio-home | kasuie&lt;/a&gt;ï¼Œæœ‰å¤šç®€å•å‘¢ï¼Ÿç®€å•åˆ°åªéœ€è¦è¿›è¡Œä¸€äº›åŠå…¶ç®€å•çš„é…ç½®ï¼ˆcvå¤§æ³•å¯ç”¨ï¼‰åï¼Œåœ¨æœåŠ¡å™¨ä¸Šè¾“å…¥ä¸€è¡Œ&lt;code&gt;docker-compose up -d&lt;/code&gt;å³å¯ã€‚ç»“åˆå¤§ä½¬çš„ä¸€äº›å»ºè®®å’Œæˆ‘è‡ªå·±çš„ä¸€äº› &lt;s&gt;å·æ‡’&lt;/s&gt; è‡ªåŠ¨åŒ–çš„æƒ³æ³•ï¼Œä¾¿æœ‰äº†ä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚é¢˜ï¼Œæœ¬æ–‡ä¸»è¦è®²è§£å¦‚ä½•ä»é›¶å¼€å§‹åœ¨ä¸€å°äº‘æœåŠ¡å™¨ä¸Šåˆ©ç”¨docker-compose + nginxå¿«é€Ÿæ„å»ºä¸€ä¸ªä¸ªäººç«™ç‚¹ã€‚å¾—ç›Šäºå¼ºå¤§çš„ç°ä»£åŒ–å·¥å…·é“¾ä»¥åŠå¼€æºç¤¾åŒºçš„æ”¯æŒï¼Œæˆ‘ä»¬å®Œæˆè¿™ä¸ªç®€æ˜“é¡¹ç›®æ‰€éœ€çš„è®¡ç®—æœºç†è®ºåŸºç¡€å¹¶ä¸å¤šï¼Œç”šè‡³å¯ä»¥è¯´æ˜¯å‡ ä¹ä¸ºé›¶ï¼Œåªéœ€è¦çŸ¥é“æ–‡æ¡£åº”è¯¥æ€ä¹ˆè¯»ï¼Œå¦‚ä½•æ­£ç¡®æ‰“å¼€å¼€å‘ä¸­çš„â€œcvå¤§æ³•â€æ¥ä¸ºè‡ªå·±çš„è‡ªåŠ¨åŒ–å·¥å…·é“¾ç¼–å†™é…ç½®æ–‡ä»¶ã€‚å½“ç„¶ï¼Œæœ€å¥½æœ‰ä¸€ç‚¹webå¼€å‘çš„åŸºç¡€ï¼Œè¿™æ ·åœ¨é‡åˆ°æ„æ–™ä¹‹å¤–çš„é—®é¢˜æ—¶ä¸è‡³äºæŸæ‰‹æ— ç­–ã€‚&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;é€šè¿‡è¯¥é¡¹ç›®ä½ ä¼šäº†è§£åˆ°ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;1. è¿œç¨‹æœåŠ¡å™¨çš„åŸºç¡€ä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2. dockerã€docker-composeéƒ¨ç½²æœåŠ¡çš„åŸºç¡€æ“ä½œ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;3. webå¼€å‘å®ç°åŸç†åŸºç¡€â€”â€”é™æ€èµ„æºéƒ¨ç½²&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;4. hexoé™æ€ç½‘é¡µç”Ÿæˆå·¥å…·çš„ä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;5. Github Actioné…ç½®è‡ªåŠ¨åŒ–éƒ¨ç½²&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;6. nginxåŸºç¡€é…ç½®ï¼ˆåå‘ä»£ç†ã€äºŒçº§åŸŸåï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;7. åœ¨å®¹å™¨å†…ä½¿ç”¨certbotç”³è¯·sslè¯ä¹¦ï¼Œå¹¶é€šè¿‡å®šæ—¶ä»»åŠ¡è‡ªåŠ¨åŒ–ç»­ç­¾&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢æ˜¯å®Œæˆè¯¥é¡¹ç›®æ‰€éœ€çš„åŸºç¡€æ¡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€å°æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªæœ‰æ•ˆåŸŸå&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æœåŠ¡å™¨&lt;/strong&gt;å¯åœ¨äº‘æœåŠ¡å™¨è¿è¥å•†å¤„ç§Ÿç”¨ã€‚å›½å†…æ¯”è¾ƒå¯é çš„è¿è¥å•†æœ‰é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŸŸå&lt;/strong&gt;åŒæ ·éœ€è¦åœ¨è¿è¥å•†è´­ä¹°ï¼Œä¹Ÿå¯é€šè¿‡ç‰¹æ®Šæ‰‹æ®µç”³è¯·å…è´¹åŸŸåï¼ˆä¸è¿‡å…è´¹ç”³è¯·çš„åŸŸåå¦‚æœ‰äººå‡ºé’±è´­ä¹°å°±ä¼šè¢«å›æ”¶ï¼‰ã€‚è·å¾—åŸŸååæ ¹æ®DNSäº‘è§£æå¹³å°çš„æ–‡æ¡£è¿›è¡Œè§£æé…ç½®å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‡†å¤‡å·¥ä½œ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å‡†å¤‡å·¥ä½œ&#34;&gt;&lt;/a&gt; å‡†å¤‡å·¥ä½œ&lt;/h2&gt;
&lt;h3 id=&#34;éƒ¨ç½²ç¯å¢ƒ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#éƒ¨ç½²ç¯å¢ƒ&#34;&gt;&lt;/a&gt; éƒ¨ç½²ç¯å¢ƒ&lt;/h3&gt;
&lt;p&gt;æœåŠ¡å™¨çš„åˆå§‹é…ç½®å¯å‚è€ƒè¿™ç¯‡æ–‡ç« &lt;a href=&#34;https://note.virtualguard101.xyz/notes/%E5%B7%A5%E5%85%B7/ssh/&#34;&gt;è¿œç¨‹æœåŠ¡å™¨çš„åŸºç¡€ä½¿ç”¨&lt;/a&gt;ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ç”±äºéœ€è¦ä½¿ç”¨&lt;code&gt;docker&lt;/code&gt;è¿›è¡Œéƒ¨ç½²ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ä¸€ä¸‹dockerã€‚é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;curl -fsSL https://get.docker.com | bash -s docker&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt install docker-compose&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°dockerç”¨æˆ·ç»„ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; groupadd docker &lt;span class=&#34;comment&#34;&gt;# è‹¥å°šä¸å­˜åœ¨ docker ç»„ï¼Œåˆ™éœ€å…ˆåˆ›å»º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; usermod -aG docker &lt;span class=&#34;variable&#34;&gt;$USER&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç”±äºæ˜¯é€šè¿‡å®¹å™¨éƒ¨ç½²æœåŠ¡ï¼Œç¯å¢ƒå¤„äºâ€œéš”ç¦»â€çŠ¶æ€ï¼Œ&lt;code&gt;nginx&lt;/code&gt;æ— éœ€ä¸‹è½½å®‰è£…ï¼Œå¯é€šè¿‡é•œåƒè¿è¡Œäºå®¹å™¨ä¸­ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸»é¡µæµ‹è¯•éƒ¨ç½²&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¸»é¡µæµ‹è¯•éƒ¨ç½²&#34;&gt;&lt;/a&gt; ä¸»é¡µæµ‹è¯•éƒ¨ç½²&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆæŒ‘é€‰ä¸€ä¸ªèƒ½å¤Ÿä½¿ç”¨dockeréƒ¨ç½²çš„webä¸»é¡µï¼Œè¿™é‡Œæˆ‘ä»¬ä»¥&lt;a href=&#34;https://github.com/kasuie/remio-home&#34;&gt;remio-home | kasuie&lt;/a&gt;ä¸ºä¾‹ã€‚æ ¹æ®æ–‡æ¡£è¿›è¡Œé…ç½®ä¸éƒ¨ç½²ï¼Œéƒ¨ç½²å®Œæˆåè®¿é—®å¯¹åº”ç«¯å£ï¼Œè§‚å¯Ÿé…ç½®æ˜¯å¦ç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;p&gt;æŒ‰ç…§ä¸»é¢˜æ–‡æ¡£é…ç½®å®Œ&lt;code&gt;docker-compose.yml&lt;/code&gt;åï¼Œå°†å®¿ä¸»æœºçš„ç«¯å£æ”¹ä¸º80ï¼ˆhttpé»˜è®¤ç«¯å£ï¼‰ï¼Œ&lt;code&gt;docker-compose down &amp;amp;&amp;amp; docker-compose up -d&lt;/code&gt; æˆ– &lt;code&gt;docker-compose restart&lt;/code&gt; é‡å¯æœåŠ¡ï¼Œé€šè¿‡å¤–ç½‘è®¾å¤‡è¿›è¡Œè®¿é—®ï¼Œæ­£å¸¸æƒ…å†µä¸‹å’Œæœ¬åœ°è®¿é—®ç»“æœæ— å¼‚ã€‚ä¹Ÿå¯é€šè¿‡ç«¯å£è½¬å‘åœ¨æœ¬åœ°ä¸»æœºè¿›è¡Œæµ‹è¯•è®¿é—®ï¼Œå…·ä½“è¿™é‡Œä¸å±•å¼€ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é€šè¿‡å¤–ç½‘è®¾å¤‡è¿›è¡Œè®¿é—®æ—¶ï¼Œè‹¥å…ˆå‰é…ç½®äº†DNSäº‘è§£æï¼Œå¯é€šè¿‡åŸŸåè¿›è¡Œè®¿é—®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é™æ€ç½‘é¡µèµ„æºæµ‹è¯•&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#é™æ€ç½‘é¡µèµ„æºæµ‹è¯•&#34;&gt;&lt;/a&gt; é™æ€ç½‘é¡µèµ„æºæµ‹è¯•&lt;/h2&gt;
&lt;h3 id=&#34;hexoåŸºç¡€ä½¿ç”¨&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hexoåŸºç¡€ä½¿ç”¨&#34;&gt;&lt;/a&gt; hexoåŸºç¡€ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;äº’è”ç½‘ä¸­æœ‰ç€æ•°ä¸èƒœæ•°çš„é™æ€ç½‘é¡µç”Ÿæˆå·¥å…·ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨&lt;a href=&#34;https://hexo.io/zh-cn/&#34;&gt;hexo&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè¿›å…¥&lt;a href=&#34;https://hexo.io/themes/&#34;&gt;ä¸»é¢˜é€‰æ‹©é¡µ&lt;/a&gt;é€‰æ‹©å‡ ä¸ªå¿ƒä»ªçš„ä¸»é¢˜ï¼Œéšåæ ¹æ®ä¸»é¢˜æ–‡æ¡£å’Œå®˜æ–¹æ–‡æ¡£æ„å»ºé™æ€ç«™ç‚¹ç›®å½•å’Œå®‰è£…ä¾èµ–ã€‚ç„¶åè¿˜æ˜¯å„ä¸ªé…ç½®æ–‡ä»¶çš„ä¿®æ”¹ä¸æµ‹è¯•ï¼Œè¿™ä¸ªè¿‡ç¨‹ç›¸å¯¹æ¯ç‡¥ä¸”ç¹çã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰äº›ä¸»é¢˜åœ¨åé¢çš„éƒ¨ç½²è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°å„ç§å„æ ·çš„å…¼å®¹æ€§é—®é¢˜ï¼Œé‡åˆ°æ— æ³•æš‚æ—¶è§£å†³çš„ï¼Œå¯ä»¥æ›´æ¢ä¸»é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é…ç½®å®Œä¸»é¢˜åï¼Œé€šè¿‡&lt;code&gt;hexo s&lt;/code&gt;å‘½ä»¤æµ‹è¯•ç”Ÿæˆé™æ€ç½‘é¡µï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—®&lt;code&gt;localhost:4000&lt;/code&gt;ç”Ÿæˆç½‘é¡µï¼ŒæŸ¥çœ‹æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚ç¡®è®¤æ— è¯¯åï¼Œå³å¯è¿›å…¥éƒ¨ç½²é˜¶æ®µã€‚&lt;/p&gt;
&lt;h2 id=&#34;éƒ¨ç½²&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#éƒ¨ç½²&#34;&gt;&lt;/a&gt; éƒ¨ç½²&lt;/h2&gt;
&lt;h3 id=&#34;github-page-ç”¨æˆ·è‡ªå®šä¹‰åŸŸå&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#github-page-ç”¨æˆ·è‡ªå®šä¹‰åŸŸå&#34;&gt;&lt;/a&gt; Github Page + ç”¨æˆ·è‡ªå®šä¹‰åŸŸå&lt;/h3&gt;
&lt;p&gt;æœ‰Github Pageé™æ€ç½‘é¡µéƒ¨ç½²ç»éªŒçš„åŒå¿—å¯¹æ­¤åº”è¯¥ä¸é™Œç”Ÿï¼Œé…åˆhexoçš„&lt;a href=&#34;https://hexo.io/zh-cn/docs/one-command-deployment&#34;&gt;ä¸€é”®éƒ¨ç½²&lt;/a&gt;ä½¿ç”¨èµ·æ¥æ–¹ä¾¿åˆ°ä¸èƒ½å†æ–¹ä¾¿äº†ï¼Œè¯¦æƒ…è¿™é‡Œä¸å†å±•å¼€ã€‚é’ˆå¯¹æ­¤éƒ¨ç½²æ–¹æ³•ï¼Œå°±ç®—ä¸æƒ³çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œç½‘ç»œä¸Šä¹Ÿæœ‰æ•°ä¸èƒœæ•°çš„æ•™ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§éƒ¨ç½²æ–¹æ³•å›ºç„¶æ–¹ä¾¿ï¼Œä½†åªèƒ½éƒ¨ç½²ï¼ˆ.github.ioï¼‰æˆ–ç»‘å®šåˆ°ä¸€ä¸ªåŸŸåä¸‹ï¼ˆcustom domainï¼‰ï¼Œè‹¥æƒ³è¦é€šè¿‡å¤šä¸ªäºŒçº§åŸŸåæ¥åˆ†éš”éƒ¨ç½²webèµ„æºï¼Œæˆ–æ˜¯å°†æ¥å¯èƒ½éœ€è¦éƒ¨ç½²å…¶ä»–æ— æ³•é€šè¿‡Github Pageæ¥éƒ¨ç½²çš„æœåŠ¡ï¼ˆå¦‚ç”¨æˆ·ç™»é™†æœåŠ¡ã€æ•°æ®åº“æœåŠ¡ç­‰ï¼‰ï¼Œè¿™æ ·çš„æ–¹æ³•å°±ä¼šæå¤§åœ°é™åˆ¶webæœåŠ¡çš„å¯æ‰©å±•æ€§ã€‚ç®€å•æ¥è¯´ï¼Œæ˜¯å¦é€‰æ‹©è¯¥éƒ¨ç½²æ–¹æ³•å–å†³äºéƒ¨ç½²éœ€æ±‚ï¼Œç¡®è®¤åªæœ‰å­˜æ”¾é™æ€èµ„æºçš„éœ€æ±‚åˆ™è¯¥æ–¹æ³•æ“ä½œä¾¿æ·ä¸”åŠŸèƒ½ç»°ç»°æœ‰ä½™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;docker-compose-nginx&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#docker-compose-nginx&#34;&gt;&lt;/a&gt; docker-compose + nginx&lt;/h3&gt;
&lt;p&gt;åºŸè¯è¯´äº†è¿™ä¹ˆå¤šï¼Œæ¥ä¸‹æ¥æ­£ç‰‡å¼€å§‹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç°ä»£ web å¼€å‘ä¸­ï¼Œä½¿ç”¨ Nginx ä»£ç†ä¸åŒçš„å­åŸŸååˆ°ç›¸åº”çš„ web é¡¹ç›®æ˜¯ä¸€ä¸ªå¸¸è§çš„éœ€æ±‚ã€‚åŒæ—¶ï¼Œä¸ºäº†ä½¿æˆ‘ä»¬çš„webæœåŠ¡èƒ½å¤Ÿä¸ä½¿ç”¨dockerå®¹å™¨éƒ¨ç½²çš„ä¸»é¡µå¤„äºåŒä¸€ä¸ªæœåŠ¡ç«¯å£ä¸Šï¼Œæˆ‘ä»¬å°±éœ€è¦æŠŠå¤„äºä¸åŒå®¹å™¨çš„webæœåŠ¡é€šè¿‡docker-composeåˆæˆä¸ºä¸€ä¸ªï¼Œå¹¶æ˜ å°„åˆ°å®¿ä¸»æœºçš„80ç«¯å£ä¸Šä»¥ä¾›å¤–ç•Œè®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹ä¸Šå»å¾ˆå¤æ‚ï¼Œä½†äº‹å®ä¸Šï¼Œç”±äºæˆ‘ä»¬å¹¶ä¸éœ€è¦äº†è§£å®¹å™¨å†…çš„æœåŠ¡å…·ä½“åœ¨åšäº›ä»€ä¹ˆï¼Œç†è®ºä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦ç®€å•äº†è§£dockerçš„å·¥ä½œåŸç†ä»¥åŠ&lt;code&gt;docker-compose.yml&lt;/code&gt;å’Œ&lt;code&gt;nginx.conf&lt;/code&gt;çš„é…ç½®è§„åˆ™å³å¯å®ç°å‰æ–‡æåˆ°çš„&lt;strong&gt;ä¸€é”®éƒ¨ç½²&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼šæ ¹åŸŸåï¼ˆä¸»é¡µï¼‰å’Œå„äºŒçº§åŸŸåï¼ˆwebæœåŠ¡ï¼‰å‡éœ€è¦é€šè¿‡nginxè¿›è¡Œè½¬å‘ï¼Œä¸”â€œå¤„äºä¸€æ¡ç»³ä¸Šâ€ï¼Œä¸€æ—¦nginxçš„é…ç½®æˆ–æ˜¯å…¶æœ¬èº«å‡ºç°é—®é¢˜ï¼Œæ‰€æœ‰å†™åœ¨é…ç½®é‡Œçš„æœåŠ¡å°±ç›´æ¥ç»™ä¸€é”…ç«¯äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;s&gt;å½“ç„¶è¿™ä¹Ÿå¥‘åˆéƒ¨åˆ†äººå¼€ï¼ˆæ‘¸ï¼‰å‘ï¼ˆé±¼ï¼‰ä¹ æƒ¯ï¼Œå¾ˆå–œæ¬¢å®¹å™¨åŒ–å¼€å‘è€…ä¸­æµä¼ çš„ä¸€å¥è¯ï¼šâ€œæˆ‘å°±å–œæ¬¢é…ä¸€å¤©ç¯å¢ƒå•¥ä¹Ÿä¸å¹²çš„æ„Ÿè§‰â˜ğŸ¤“â€&lt;/s&gt;&lt;/p&gt;
&lt;p&gt;ä¸¤ä¸ªé…ç½®æ–‡ä»¶çš„ç¼–å†™ä¸Šï¼Œå¦‚æœæ˜¯å•çº¯çš„å¤šä¸ªäºŒçº§åŸŸåçš„é…ç½®ï¼Œç½‘ç»œä¸Šçš„æ•™ç¨‹ä¸€æŠ“ä¸€å¤§æŠŠï¼Œä½†æˆ‘ä»¬çš„è¿™ä¸ªé¡¹ç›®çš„éš¾ç‚¹å°±åœ¨äºæ­¤ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜è¦æŠŠå…ˆå‰å°±å·²æˆåŠŸéƒ¨ç½²çš„ä¸»é¡µæœåŠ¡ä¹Ÿèåˆè¿›æ¥ï¼Œå¦‚ä½•æ­£ç¡®å°†å®ƒä»¬é…ç½®åˆ°åŒä¸€ä¸ªç«¯å£ä¸Šå¯¹äºä¸ç†Ÿæ‚‰dockerå’Œç¬¬ä¸€æ¬¡æ¥è§¦nginxçš„äººç®—çš„ä¸Šæ˜¯ä¸ªæŒ‘æˆ˜ï¼ˆæ¯”å¦‚æˆ‘ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œç»è¿‡ä¸€æ®µæ—¶é—´çš„å°è¯•ï¼ˆAI+ï¼‰ï¼Œæˆ‘ä»¬å°±èƒ½å‘ç°è¿™å¹¶éä»€ä¹ˆéš¾äº‹ï¼š&lt;/p&gt;
&lt;h4 id=&#34;dockeré…ç½®&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#dockeré…ç½®&#34;&gt;&lt;/a&gt; dockeré…ç½®&lt;/h4&gt;
&lt;p&gt;ä»¥ä¸‹é…ç½®æ¨¡æ¿ä»…ä¾›å‚è€ƒ&lt;/p&gt;
&lt;figure class=&#34;highlight yml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;version:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;3.8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;services:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;remio-home:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;kasuie/remio-home&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;remio-home&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;ports:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;8080:3000&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;environment:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;GTMID=.....&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;PASSWORD=.....&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;AMAP_KEY=.....&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./remio-home/config:/remio-home/config&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./remio-home/icons:/remio-home/public/icons&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./remio-home/fonts:/remio-home/public/fonts&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;web_network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;restart:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;unless-stopped&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;nginx:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;nginx:latest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;nginx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;ports:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;80:80&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;# - &amp;quot;443:443&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./nginx/conf.d/nginx.conf:/etc/nginx/nginx.conf:ro&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./nginx/log:/var/log/nginx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;# - ./certbot/www:/usr/share/certbot/www:ro&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;# - ./certbot/ssl:/etc/letsencrypt:ro&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;depends_on:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;subsite1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;subsite2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;subsite3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;web_network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;command:&lt;/span&gt;  &lt;span class=&#34;string&#34;&gt;nginx&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;-g&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;daemon off;&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;# certbot:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;#   container_name: certbot&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;#   image: certbot/certbot&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;#   volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;#     - ./certbot/www:/usr/share/certbot/www:rw #httpéªŒè¯ç›®å½•ï¼Œå¯è®¾ç½®rwå¯å†™ï¼Œä¸nginxå®¹å™¨å¯¹åº”çš„å®¿ä¸»æœºç›®å½•æ—¶ä¸€è‡´çš„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;#     - ./certbot/ssl:/etc/letsencrypt:rw #è¯ä¹¦ä½ç½®ï¼ŒåŒä¸Šï¼Œæ³¨æ„ä¸è¦åªæ˜ å°„åˆ°liveï¼Œè€Œæ˜¯å®ƒçš„ä¸Šä¸€çº§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;subsite1:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;nginx:latest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;subsite1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./sub-sites/subsite1/public:/usr/share/nginx/html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;web_network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;subsite2:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;nginx:latest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;subsite2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./sub-sites/subsite2/public:/usr/share/nginx/html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;web_network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;subsite3:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;nginx:latest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;subsite3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./sub-sites/subsite3/public:/usr/share/nginx/html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;web_network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;web_network:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;driver:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;bridge&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;dockeré…ç½®çš„å…³é”®åœ¨äº&lt;code&gt;volumes&lt;/code&gt;ï¼Œå³&lt;strong&gt;æŒ‚è½½å·&lt;/strong&gt;çš„è·¯å¾„é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨nginxé™„å±æœåŠ¡ï¼ˆäºŒçº§åŸŸåï¼‰çš„é…ç½®ä¸­ï¼ŒæŒ‚è½½å·å‚æ•°çš„&lt;code&gt;:&lt;/code&gt;å‰å¡«å…¥çš„æ˜¯éœ€è¦æŒ‚è½½çš„å®¿ä¸»æœºè·¯å¾„ï¼Œ&lt;code&gt;:&lt;/code&gt;åæ˜¯å®¹å™¨å†…çš„æ˜ å°„è·¯å¾„ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦æŒ‚è½½çš„è·¯å¾„æ˜¯å„ä¸ªäºŒçº§åŸŸåä¸‹éœ€è¦â€œå±•ç¤ºâ€çš„&lt;strong&gt;å‰ç«¯æ–‡ä»¶&lt;/strong&gt;ï¼Œå³å‰æ–‡ä¸­æåˆ°çš„ç”±é™æ€ç½‘é¡µç”Ÿæˆå·¥å…·ç”Ÿæˆçš„&lt;strong&gt;é™æ€èµ„æº&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨hexoä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å‘½ä»¤&lt;code&gt;hexo cl &amp;amp;&amp;amp; hexo g&lt;/code&gt;æ¸…ç†æ—§ç‰ˆæœ¬çš„é™æ€æ–‡ä»¶å¹¶ç”Ÿæˆæ–°ç‰ˆï¼Œç”Ÿæˆçš„é™æ€æ–‡ä»¶é»˜è®¤å¤„äºå„é¡¹ç›®æ ¹ç›®å½•çš„&lt;code&gt;public&lt;/code&gt;è·¯å¾„ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;é™æ€èµ„æºçš„æ•´ç†å¯åœ¨ä»»æ„ä¸»æœºä¸Šè¿›è¡Œï¼Œéƒ¨ç½²æ—¶åªéœ€ç¡®ä¿ç”±é™æ€ç½‘é¡µç”Ÿæˆçš„é™æ€èµ„æºå¤„äºæœåŠ¡å™¨ä¸Šå¹¶æŒ‚è½½åˆ°å®¹å™¨çš„æ­£ç¡®è·¯å¾„ä¸‹å³å¯ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸ºç¡®ä¿éšç§å®‰å…¨ï¼Œé™æ€æ–‡ä»¶çš„æ•´ç†å·¥ä½œæˆ‘ä»¬ä¸€èˆ¬åœ¨æœ¬åœ°ä¸»æœºä¸Šè¿›è¡Œã€‚åœ¨åç»­çš„ç« èŠ‚ä¸­æˆ‘ä»¬ä¼šä»‹ç»å¦‚ä½•é€šè¿‡é…ç½®Github Actionå®ç°ä½¿é™æ€æ–‡ä»¶ä»æœ¬åœ°è‡ªåŠ¨åŒ–éƒ¨ç½²è‡³æœåŠ¡å™¨ä¸Šã€‚&lt;/p&gt;
&lt;h4 id=&#34;nginxé…ç½®&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#nginxé…ç½®&#34;&gt;&lt;/a&gt; nginxé…ç½®&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;nginx.conf&lt;/code&gt;çš„é…ç½®æ˜¯è¯¥é¡¹ç›®çš„æ ¸å¿ƒï¼Œè‹¥å‡ºç°é”™è¯¯å¯¼è‡´éƒ¨ç½²æ— æ³•è¿›è¡Œï¼Œ70%çš„é—®é¢˜å‡ºåœ¨nginxä¸Šï¼Œè€Œnginxçš„é—®é¢˜æœ‰80%å‡ºåœ¨é…ç½®ä¸Šï¼ˆæ•°æ®æ˜¯çç¼–çš„ğŸ˜‹ï¼Œä½†é—®é¢˜æ˜¯çœŸçš„ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯&lt;code&gt;nginx.conf&lt;/code&gt;çš„å‚è€ƒé…ç½®ï¼Œå—é™äºç¯‡å¹…ï¼Œåªåˆ—ä¸¾ä¸»é¡µåŠå…¶ä¸­çš„ä¸€ä¸ªäºŒçº§åŸŸåçš„é…ç½®ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;103&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;events &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;http &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ; server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     listen 80;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     # listen [::]:80;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     server_name  virtualguard101.xyz;#åŸŸå&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     server_tokens off;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     #é…ç½®httpéªŒè¯å¯è®¿é—®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     location /.well-known/acme-challenge/ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;         #æ­¤ç›®å½•éƒ½æ˜¯nginxå®¹å™¨å†…çš„ç›®å½•ï¼Œå¯¹åº”å®¿ä¸»æœºvolumesä¸­çš„httpéªŒè¯ç›®å½•ï¼Œè€Œå®¿ä¸»æœºçš„åˆä¸certbotå®¹å™¨ä¸­å‘½ä»¤--webroot-pathæŒ‡å®šç›®å½•ä¸€è‡´ï¼Œä»è€Œå°±æ•´ä¸ªä¸²èµ·æ¥äº†ï¼Œè§£å†³äº†httpéªŒè¯é—®é¢˜&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;         root /usr/share/certbot/www;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     #httpè·³è½¬åˆ°https&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     location / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;         return 301 https://$host$request_uri;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        listen 80;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        server_name virtualguard101.xyz;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        location / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            proxy_pass http://remio-home:3000;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            proxy_set_header Host $host;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            proxy_set_header X-Real-IP $remote_addr;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            proxy_set_header X-Forwarded-Proto $scheme;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;       &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        # å¼ºåˆ¶HTTPSé‡å®šå‘&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        # return 301 https://$host$request_uri;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ; server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     listen 443 ssl http2;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     server_name virtualguard101.xyz;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     ssl_certificate /etc/letsencrypt/live/virtualguard101.xyz/fullchain.pem;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     ssl_certificate_key /etc/letsencrypt/live/virtualguard101.xyz/privkey.pem;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     location / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;         proxy_pass http://remio-home:3000;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;         proxy_set_header Host $host;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;         proxy_set_header X-Real-IP $remote_addr;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;         proxy_set_header X-Forwarded-Proto $scheme;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ; server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     listen 80;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     # listen [::]:80;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     server_name  projects.virtualguard101.xyz;#åŸŸå&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     server_tokens off;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     #é…ç½®httpéªŒè¯å¯è®¿é—®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     location /.well-known/acme-challenge/ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;         #æ­¤ç›®å½•éƒ½æ˜¯nginxå®¹å™¨å†…çš„ç›®å½•ï¼Œå¯¹åº”å®¿ä¸»æœºvolumesä¸­çš„httpéªŒè¯ç›®å½•ï¼Œè€Œå®¿ä¸»æœºçš„åˆä¸certbotå®¹å™¨ä¸­å‘½ä»¤--webroot-pathæŒ‡å®šç›®å½•ä¸€è‡´ï¼Œä»è€Œå°±æ•´ä¸ªä¸²èµ·æ¥äº†ï¼Œè§£å†³äº†httpéªŒè¯é—®é¢˜&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;         root /usr/share/certbot/www;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     #httpè·³è½¬åˆ°https&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     location / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;         return 301 https://$host$request_uri;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ;     &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        listen 80;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        server_name projects.virtualguard101.xyz;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        location / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            proxy_pass http://projects:80;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            proxy_set_header Host $host;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            proxy_set_header X-Real-IP $remote_addr;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            proxy_set_header X-Forwarded-Proto $scheme;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        # return 301 https://$host$request_uri;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;   server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;       listen 443 ssl http2;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;       server_name projects.virtualguard101.xyz;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;       ssl_certificate /etc/letsencrypt/live/projects.virtualguard101.xyz/fullchain.pem;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;       ssl_certificate_key /etc/letsencrypt/live/projects.virtualguard101.xyz/privkey.pem;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;       location / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;           proxy_pass http://projects:80;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;           proxy_set_header Host $host;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;           proxy_set_header X-Real-IP $remote_addr;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;           proxy_set_header X-Forwarded-Proto $scheme;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;       &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;nginxé…ç½®çš„å…³é”®åœ¨äºåå‘ä»£ç†è½¬å‘çš„é…ç½®ï¼Œè¿™æ˜¯nginxä¸€ä¸ªååˆ†é‡è¦çš„ç‰¹æ€§ï¼Œåˆ©ç”¨å®ƒèƒ½å¤Ÿå®ç°nginxä¸­è®¸å¤šæ ¸å¿ƒåŠŸèƒ½ï¼Œå¦‚è´Ÿè½½å‡è¡¡ã€websocketä»£ç†ç­‰ã€‚å¯¹äºæˆ‘ä»¬ç›®å‰çš„é¡¹ç›®éœ€æ±‚ï¼Œæš‚æ—¶æ— éœ€ä½¿ç”¨åˆ°è¿™äº›è¾ƒä¸ºå¤æ‚çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬ç°åœ¨åªéœ€å¼„æ˜ç™½å‚æ•°&lt;code&gt;proxy_pass&lt;/code&gt;å…·ä½“æ˜¯åšä»€ä¹ˆçš„ï¼Œä»¥åŠå…¶æœ€ä¸ºåŸºç¡€çš„é…ç½®è§„åˆ™ï¼Œå‰©ä¸‹çš„äº¤ç»™cvå¤§æ³•å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨nginxé…ç½®ä¸­ï¼Œ&lt;code&gt;proxy_pass&lt;/code&gt;ç”¨äºå°†å®¢æˆ·ç«¯çš„è¯·æ±‚ä»£ç†åˆ°æŒ‡å®šçš„åæ®µæœåŠ¡å™¨ï¼Œç®€å•ç†è§£å°±æ˜¯æŠŠè¯·æ±‚ä½œäº†ä¸€æ¬¡è½¬å‘ã€‚å…¶åŸºç¡€è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;location /path/ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    proxy_pass http://backend_server:port;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¯¥é…ç½®ä¼šå°†å®¢æˆ·ç«¯ä¸Šçš„è¯·æ±‚è½¬å‘è‡³è¿è¡Œåœ¨&lt;code&gt;port&lt;/code&gt;ç«¯å£ä¸Šåä¸º&lt;code&gt;backend_server&lt;/code&gt;çš„æœåŠ¡ã€‚ç»“åˆä¸Šé¢çš„é…ç½®æ¨¡æ¿è¿›è¡Œç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä¸»é¡µæœåŠ¡åœ¨å‰é¢çš„dockeré…ç½®ä¸­æˆ‘ä»¬â€œæ°å¥½â€å°†å…¶é…ç½®åœ¨äº†å®¹å™¨çš„&lt;code&gt;3000&lt;/code&gt;ç«¯å£ä¸Šï¼Œè€Œå…¶ä»–çš„äºŒçº§åŸŸåï¼ˆnginxæœåŠ¡ï¼‰æˆ‘ä»¬å‡å°†å…¶é…ç½®åœ¨äº†å®¹å™¨çš„&lt;code&gt;80&lt;/code&gt;ç«¯å£ä¸Šï¼Œé‚£ä¹ˆåœ¨å¤–ç½‘è®¾å¤‡ï¼ˆå®¢æˆ·ç«¯ï¼‰é€šè¿‡åŸŸåè®¿é—®å¯¹åº”æœåŠ¡æ—¶ï¼Œnginxå°±ä¼šå°†è®¿é—®è¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„ç«¯å£ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆnginxæ€ä¹ˆçŸ¥é“å®¢æˆ·å‘é€äº†è®¿é—®è¯·æ±‚ï¼Ÿè¿™å°±æ˜¯&lt;strong&gt;ç›‘å¬&lt;/strong&gt;è¦åšçš„äº‹ã€‚httpæœåŠ¡é»˜è®¤é€šè¿‡&lt;code&gt;80&lt;/code&gt;ç«¯å£è®¿é—®ï¼Œé€šè¿‡é…ç½®&lt;code&gt;listen&lt;/code&gt;å‚æ•°æˆ‘ä»¬å¯ä»¥ä½¿nginxæœåŠ¡ç›‘å¬&lt;code&gt;80&lt;/code&gt;ç«¯å£ï¼Œå°±åƒé¥­ç‚¹é£Ÿå ‚é˜¿å§¨ç«™åœ¨ç‰¹å®šçª—å£ç­‰ç€ä½ å»æ‰“é¥­ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;é…ç½®æ¨¡æ¿ä¸­æ³¨é‡Šæ‰çš„æ¨¡å—æ˜¯httpsçš„é…ç½®ï¼Œç”±äºæˆ‘ä»¬è¿˜æœªç”³è¯·sslè¯ä¹¦ï¼Œç°åœ¨åªèƒ½å…ˆä½¿ç”¨httpã€‚å…³äºsslè¯ä¹¦çš„ç”³è¯·æˆ‘ä»¬ä¹Ÿä¼šåœ¨åç»­çš„ç« èŠ‚ä»‹ç»ã€‚&lt;/p&gt;
&lt;p&gt;docker ä¸ nginxçš„é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬ä¾¿å¯é€šè¿‡&lt;code&gt;docker-compose up -d&lt;/code&gt;å‘½ä»¤è¿›è¡ŒæœåŠ¡éƒ¨ç½²ï¼Œæ­¤æ—¶æ­£å¸¸æƒ…å†µä¸‹ç½‘é¡µå·²ç»å¯ä»¥é€šè¿‡å¤–ç½‘è®¾å¤‡è®¿é—®ã€‚è‹¥å‡ºç°é—®é¢˜ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¼šåæ˜ åœ¨å„ä¸ªæœåŠ¡å®¹å™¨ä¸Šï¼Œå¯é€šè¿‡&lt;code&gt;docker-compose logs&lt;/code&gt;å‘½ä»¤æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;github-actionè‡ªåŠ¨åŒ–éƒ¨ç½²&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#github-actionè‡ªåŠ¨åŒ–éƒ¨ç½²&#34;&gt;&lt;/a&gt; Github Actionè‡ªåŠ¨åŒ–éƒ¨ç½²&lt;/h2&gt;
&lt;p&gt;&lt;s&gt;ä½œä¸ºä¸€ä¸ªæ‡’äºº&lt;/s&gt;ä¸ºäº†æé«˜æ•ˆç‡ï¼Œå†™ä¸ªè‡ªåŠ¨åŒ–é…ç½®æŠŠéƒ¨ç½²çš„å·¥ä½œäº¤ç»™è®¡ç®—æœºæ¥åšè‡ªç„¶æ˜¯ä¸ªä¸é”™çš„æ–¹æ³•ã€‚Github Actionä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç®€å•çš„è‡ªåŠ¨åŒ–æ„å»ºå¹³å°ï¼Œé€šè¿‡æ¨¡å—åŒ–çš„é…ç½®å’Œä¸gitè¿œç¨‹ä»“åº“ç»“åˆçš„ç®¡ç†æ–¹å¼æå¤§ç®€åŒ–äº†é…ç½®éš¾åº¦ï¼ŒåŒæ—¶é›†æˆäº†ç‰ˆæœ¬æ§åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;Github Actionè‡ªåŠ¨åŒ–çš„é…ç½®é€šå¸¸ä½äºå­ç«™ç‚¹é¡¹ç›®æ ¹ç›®å½•çš„&lt;code&gt;.github/workflows&lt;/code&gt;ä¸‹ã€‚ç”±äºè‡ªåŠ¨åŒ–éƒ¨ç½²çš„æ–¹å¼å¤šç§å¤šæ ·ï¼Œé…ç½®è‡ªç„¶ä¹ŸåŒç†ï¼Œæ•…ä»¥ä¸‹é…ç½®æ¨¡æ¿ä»…ä¾›å‚è€ƒã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight yml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Deploy&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Subsite&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;on:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;push:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;branches:&lt;/span&gt; [&lt;span class=&#34;string&#34;&gt;main&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;jobs:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;hexo-build:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;runs-on:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;ubuntu-latest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;steps:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Checkout&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;uses:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;actions/checkout@v4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Setup&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Node&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;uses:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;actions/setup-node@v3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;with:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;attr&#34;&gt;node-version:&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;18&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Install&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Dependencies&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;run:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;          npm install -g hexo-cli&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;          npm install&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;/span&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Build&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Site&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;run:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;hexo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;clean&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;hexo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;generate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Deploy&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Server&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;uses:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;appleboy/scp-action@v0.1.7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;with:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;attr&#34;&gt;host:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;$&amp;#123;&amp;#123;&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;secrets.SERVER_IP&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#125;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;attr&#34;&gt;username:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;$&amp;#123;&amp;#123;&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;secrets.SERVER_USER&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#125;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;attr&#34;&gt;key:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;$&amp;#123;&amp;#123;&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;secrets.SSH_KEY&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#125;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;attr&#34;&gt;source:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;public/*&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;attr&#34;&gt;target:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;/home/&amp;lt;user&amp;gt;/sub-sites/&amp;lt;subsites_dir&amp;gt;/&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;# - name: Refresh Nginx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;#   uses: appleboy/ssh-action@v1.0.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;#   with:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;#     host: $&amp;#123;&amp;#123; secrets.SERVER_IP &amp;#125;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;#     username: $&amp;#123;&amp;#123; secrets.SERVER_USER &amp;#125;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;#     key: $&amp;#123;&amp;#123; secrets.SSH_KEY &amp;#125;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;#     script: |&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;#       docker exec nginx_main nginx -s reload&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é…ç½®æ¨¡æ¿ä¸­ï¼Œ&lt;code&gt;Deploy to Server&lt;/code&gt;æ¨¡å—æ˜¯é…ç½®ä¸­è¾ƒä¸ºæ ¸å¿ƒçš„æ¨¡å—ã€‚è¯¥æ¨¡å—åˆ©ç”¨&lt;strong&gt;scp&lt;/strong&gt;å·¥å…·å°†ç”Ÿæˆçš„é™æ€æ–‡ä»¶ä¼ é€è‡³ç«™ç‚¹æœåŠ¡å™¨çš„æŒ‡å®šè·¯å¾„ä¸‹ï¼Œå…¶ä¸­çš„ä»¥&lt;code&gt;secrets&lt;/code&gt;å¼€å¤´çš„ä¸‰ä¸ªå˜é‡åˆ†åˆ«æ˜¯æœåŠ¡å™¨çš„ipåœ°å€ã€ç”¨æˆ·ä¸sshç§é’¥ï¼Œé€šè¿‡ä»“åº“çš„&lt;code&gt;settings&lt;/code&gt; &amp;gt;&amp;gt; &lt;code&gt;secrets and variables&lt;/code&gt; &amp;gt;&amp;gt; &lt;code&gt;actions&lt;/code&gt; é…ç½®ã€‚&lt;br /&gt;
sshç§é’¥éœ€åœ¨æœåŠ¡å™¨ä¸Šç”Ÿæˆã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸Šè¿°è‡ªåŠ¨åŒ–é…ç½®ï¼Œåœ¨æ¯æ¬¡æˆ‘ä»¬å°†æœ¬åœ°ä»“åº“çš„æ›´æ”¹æ¨é€è‡³è¿œç¨‹ä»“åº“æ—¶ï¼Œgithubä¼šè‡ªåŠ¨åœ¨åå°ä½¿ç”¨hexoç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œå¹¶é€šè¿‡scpå°†å…¶å‘é€è‡³æœåŠ¡å™¨çš„æŒ‡å®šè·¯å¾„ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæˆ‘ä»¬ä»…éœ€åœ¨æœ¬åœ°çš„å„ä¸ªç«™ç‚¹é¡¹ç›®è·¯å¾„ä¸‹ä¿®æ”¹é…ç½®æˆ–æ’°å†™æ–‡ç« ï¼Œå¹¶å°†æ›´æ”¹æ¨é€è‡³githubè¿œç¨‹ä»“åº“ï¼Œå³å¯å®ç°ç«™ç‚¹èµ„æºçš„è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚&lt;/p&gt;
&lt;h2 id=&#34;sslè®¤è¯ä¸httpsæ¨¡å—é…ç½®å¯é€‰&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sslè®¤è¯ä¸httpsæ¨¡å—é…ç½®å¯é€‰&#34;&gt;&lt;/a&gt; sslè®¤è¯ä¸httpsæ¨¡å—é…ç½®ï¼ˆå¯é€‰ï¼‰&lt;/h2&gt;
&lt;p&gt;ç»è¿‡ä¸Šé¢äº”èŠ‚çš„é…ç½®å·¥ä½œï¼Œæˆ‘ä»¬çš„ç«™ç‚¹çš„é›å½¢å·²ç»å®Œæˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯æœ€åçš„æ”¶å°¾å·¥ä½œã€‚å…³äºsslè¯ä¹¦ä¸httpsï¼Œå°½ç®¡æˆ‘ä»¬å¹¶ä¸è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªç½‘é¡µçš„å¿…è¦ç»„æˆéƒ¨åˆ†ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯å¼ºçƒˆå»ºè®®ä¸ºè‡ªå·±çš„ç«™ç‚¹é…ç½®sslè¯ä¹¦ä¸httpsæ¨¡å—ä»¥å¢å¼ºå®‰å…¨æ€§ä¸å¯æ‰©å±•æ€§ã€‚å¾—ç›Šäº&lt;a href=&#34;https://certbot.eff.org/&#34;&gt;certbot&lt;/a&gt;çš„sslè¯ä¹¦å…è´¹ç”³è¯·åŠŸèƒ½ï¼Œæˆ‘ä»¬å·²ç»èƒ½å¤Ÿè¾ƒä¸ºå®¹æ˜“åœ°å®Œæˆè¿™é¡¹å·¥ä½œã€‚&lt;/p&gt;
&lt;h3 id=&#34;é¦–æ¬¡ç”³è¯·sslè¯ä¹¦&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#é¦–æ¬¡ç”³è¯·sslè¯ä¹¦&#34;&gt;&lt;/a&gt; é¦–æ¬¡ç”³è¯·sslè¯ä¹¦&lt;/h3&gt;
&lt;p&gt;ç”±äºåœ¨è¯¥é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„æœåŠ¡å‡é…ç½®äºdockerå®¹å™¨ä¸­ï¼Œå› æ­¤æˆ‘ä»¬åŒæ ·éœ€è¦å°†certbotçš„æœåŠ¡åŠŸèƒ½é…ç½®è¿›docker-compose.ymlä¸­ä»¥å®ç°åç»­çš„sslè¯ä¹¦è‡ªåŠ¨åŒ–ç»­ç­¾ã€‚äº‹å®ä¸Šï¼Œcertbotå®˜æ–¹æ˜¯ä¸å»ºè®®ä½¿ç”¨dockerä½œä¸ºcertbotçš„æœåŠ¡è½½ä½“çš„ï¼Œè¯¦æƒ…å¯å‚è€ƒ&lt;a href=&#34;https://eff-certbot.readthedocs.io/en/stable/install.html#alternative-1-docker&#34;&gt;Get Certbot with Docker&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨é…ç½®å‰ï¼Œé¦–å…ˆéœ€è¦æ‹‰å–certbotçš„dockeré•œåƒï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker pull certbot/certbot&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;éšåå°†å‰æ–‡ä¸­&lt;code&gt;docker-compose.yml&lt;/code&gt;ä¸­&lt;code&gt;certbot&lt;/code&gt;æ¨¡å—çš„æ³¨é‡Šå»æ‰ï¼Œå¹¶å°†nginxæŒ‚è½½å·ä¸­æœ‰å…³certbotçš„è·¯å¾„çš„æ³¨é‡Šå»æ‰ã€‚å¯åŠ¨æœåŠ¡ï¼Œå¹¶é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæµ‹è¯•ç”³è¯·ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# --dry-runæ˜¯åªæµ‹è¯•ä¸å®é™…ç”Ÿæˆ; --webroot-pathå¯¹åº”ç€certbotå†…çš„httpéªŒè¯ç›®å½•;-dåé¢æ˜¯åŸŸå;--rmæ˜¯è¿è¡Œåæ¥ç€åˆ é™¤ï¼Œcertbotå®¹å™¨ä¸éœ€è¦ä¸€ç›´å¼€å¯ï¼Œåªæ˜¯å¯åŠ¨ä¸‹ç”Ÿæˆè¯ä¹¦å³å¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker compose run --&lt;span class=&#34;built_in&#34;&gt;rm&lt;/span&gt;  certbot certonly --webroot --webroot-path /usr/share/certbot/www/ --dry-run -d [your_domain]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æŒ‰ç…§æç¤ºè¾“å…¥é‚®ç®±ä¿¡æ¯ï¼Œè‹¥è¿”å›ç»“æœ&lt;code&gt;The dry run was successful&lt;/code&gt;ï¼Œåˆ™è¯´æ˜æµ‹è¯•æˆåŠŸï¼Œå³å¯å°†&lt;code&gt;--dry-run&lt;/code&gt;å»æ‰ä»¥è¿›è¡Œå®é™…çš„è¯ä¹¦è·å–ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker compose run --&lt;span class=&#34;built_in&#34;&gt;rm&lt;/span&gt;  certbot certonly --webroot --webroot-path /usr/share/certbot/www/ -d [your_domain]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç”³è¯·æˆåŠŸåï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰å·²ç”³è¯·çš„è¯ä¹¦ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker compose run --&lt;span class=&#34;built_in&#34;&gt;rm&lt;/span&gt; certbot certificats&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç¡®è®¤è¯ä¹¦ä¿¡æ¯æ— è¯¯åå³å¯å¼€å§‹nginx&lt;code&gt;https&lt;/code&gt;æ¨¡å—çš„é…ç½®ã€‚ä¸&lt;code&gt;docker-compose.yml&lt;/code&gt;ç±»ä¼¼ï¼Œå°†&lt;code&gt;nginx.conf&lt;/code&gt;é…ç½®æ¨¡æ¿ä¸­httpsæ¨¡å—çš„æ³¨é‡Šå»æ‰ï¼ŒåŒæ—¶å°†åŸæ¥æœªæ³¨é‡Šçš„httpæ¨¡å—æ³¨é‡Šæ‰ï¼Œ&lt;code&gt;docker-compose down &amp;amp;&amp;amp; docker-compose up -d&lt;/code&gt;é‡å¯æœåŠ¡ã€‚å®Œæˆåé€šè¿‡å¤–ç½‘è®¾å¤‡è®¿é—®ç½‘é¡µï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œç½‘å€æ ä¼šæ˜¾ç¤ºè¯¥ç½‘é¡µæ˜¯å®‰å…¨çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;sslè¯ä¹¦è‡ªåŠ¨åŒ–ç»­ç­¾&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sslè¯ä¹¦è‡ªåŠ¨åŒ–ç»­ç­¾&#34;&gt;&lt;/a&gt; sslè¯ä¹¦è‡ªåŠ¨åŒ–ç»­ç­¾&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨certbotä¸€ä¸ªå¾ˆå¤§çš„åŸå› å°±æ˜¯å› ä¸ºå…¶å¯é€šè¿‡é…ç½®&lt;strong&gt;å®šæ—¶ä»»åŠ¡&lt;/strong&gt;è¿›è¡Œsslè¯ä¹¦çš„è‡ªåŠ¨åŒ–ç»­ç­¾ã€‚å…·ä½“é…ç½®ååˆ†ç®€å•ï¼Œä¸€ä¸ªbashçš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;åˆ›å»ºbashè„šæœ¬ï¼Œå¹¶å†™å…¥å®šæ—¶ç”³è¯·å‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim sslrenew.sh   &lt;span class=&#34;comment&#34;&gt;# åˆ›å»ºè„šæœ¬æ–‡ä»¶&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å†™å…¥å‘½ä»¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker compose run certbot renew&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;crontab -e&lt;/code&gt;æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼Œæ¯ä¸ªæœˆç¬¬ä¸€å¤©å‡Œæ™¨å››ç‚¹æ‰§è¡Œï¼Œä¹Ÿå¯æ ¹æ®è‡ªå·±æƒ…å†µè¿›è¡Œé…ç½®ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;0 4 1 * * ~/sslrenew.sh&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é…ç½®å®Œæˆåï¼Œå¯é€šè¿‡&lt;code&gt;crontab -l&lt;/code&gt;å‘½ä»¤æŸ¥çœ‹é…ç½®çš„å®šæ—¶å‘½ä»¤ï¼Œç¡®è®¤é…ç½®æ˜¯å¦å†™å…¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;BASE END&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åˆ°æ­¤ä¸ºæ­¢ï¼Œæ‰€æœ‰çš„åŸºç¡€é…ç½®ä¹Ÿå°±å®Œæˆäº†ã€‚æ­¤æ—¶æˆ‘ä»¬çš„ä¸ªäººç«™ç‚¹å·²ç»å¯ä»¥è¢«ä¸–ç•Œä¸Šæ‰€æœ‰æ¥å…¥äº’è”ç½‘çš„è®¾å¤‡è®¿é—®äº†ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿå¯æ ¹æ®ä¸ªäººéœ€æ±‚ä¸ºç«™ç‚¹æ·»åŠ å„ç§å„æ ·çš„åŠŸèƒ½ä¸æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦å‚è€ƒæ–‡çŒ®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://cloud.tsyidc.com/web/822.html&#34;&gt;dockeréƒ¨ç½²nginxå¤šçº§å­åŸŸå | è“æ˜“äº‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cnblogs.com/vishun/p/15746849.html&#34;&gt;dockeréƒ¨ç½²certbotä¸nginxæ¥è·å–sslè¯ä¹¦æ·»åŠ httpsåŠè‡ªåŠ¨æ›´æ–° | vishun&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://kasuie.cc/article/22&#34;&gt;ä½¿ç”¨Certbotè‡ªç­¾SSLè¯ä¹¦ | kasuie&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;å¢æ·»æœåŠ¡&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å¢æ·»æœåŠ¡&#34;&gt;&lt;/a&gt; å¢æ·»æœåŠ¡&lt;/h2&gt;
&lt;p&gt;æ—¢ç„¶æˆ‘ä»¬éƒ½é€‰æ‹©äº†ä½¿ç”¨äº‘æœåŠ¡å™¨æ¥æ„å»ºæˆ‘ä»¬çš„ä¸ªäººç«™ç‚¹ï¼Œé‚£ä¹ˆä»…ä½¿ç”¨å®ƒæ¥å­˜æ”¾é™æ€é¡µé¢æ˜¾ç„¶æ˜¯å¤§æå°ç”¨ã€‚å¯¹äºç«™ç‚¹åŠŸèƒ½çš„ä¸°å¯Œï¼Œè¿˜æ˜¯é‚£å¥è¯ï¼Œåœ¨æˆç†Ÿå·¥å…·é“¾ä¸°å¯Œçš„ç°ä»£å¼€å‘ç¯å¢ƒä¸‹ï¼Œå¹¶ä¸æ˜¯ä»€ä¹ˆå¾ˆéš¾çš„äº‹æƒ…ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦æ­£ç¡®æ‰“å¼€åˆ«äººå†™å¥½çš„æ–‡æ¡£å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºåŠŸèƒ½æ‰©å±•è¿™éƒ¨åˆ†çš„å†…å®¹ï¼Œæ›´å¤šçš„è¿˜æ˜¯å°†ç›®å…‰æ”¾åœ¨éƒ¨ç½²å·¥å…·ä¾›åº”è€…çš„ä½¿ç”¨æ–‡æ¡£ä¸Šï¼Œè¿™é‡ŒåªåŸºäºè¯¥æ–‡ä»‹ç»çš„ç«™ç‚¹éƒ¨ç½²æ–¹æ³•ç®€å•ä»‹ç»ä¸€ä¸‹æˆ‘ä¸ªäººæ‘¸ç´¢å‡ºçš„&lt;strong&gt;æ ‡å‡†åŒ–éƒ¨ç½²æµç¨‹&lt;/strong&gt;ä»¥åŠéƒ¨ç½²è¿‡ç¨‹ä¸­å¯èƒ½ç¢°åˆ°çš„&lt;strong&gt;é—®é¢˜&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ ‡å‡†åŒ–éƒ¨ç½²æµç¨‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ ‡å‡†åŒ–éƒ¨ç½²æµç¨‹&#34;&gt;&lt;/a&gt; æ ‡å‡†åŒ–éƒ¨ç½²æµç¨‹&lt;/h3&gt;
&lt;p&gt;ä»¥ä¸‹æµç¨‹ä¸ºä¸ªäººåœ¨å®é™…éƒ¨ç½²è¿‡ç¨‹ä¸­æ‘¸ç´¢å‡ºçš„ä¸åŒæœåŠ¡éƒ¨ç½²è¿‡ç¨‹çš„å…±é€šç‚¹ï¼Œä»…ä¾›å‚è€ƒã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ä¸€ä¸ªAIå¯¹è¯æœåŠ¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¾¿å¯éµå¾ªä»¥ä¸‹æµç¨‹è¿›è¡ŒæœåŠ¡çš„é…ç½®åŠéƒ¨ç½²ï¼š&lt;/p&gt;
&lt;h4 id=&#34;ä¸€-å·¥å…·é“¾é€‰å–åŠåŸºç¡€é…ç½®å·¥ä½œ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¸€-å·¥å…·é“¾é€‰å–åŠåŸºç¡€é…ç½®å·¥ä½œ&#34;&gt;&lt;/a&gt; ä¸€ã€å·¥å…·é“¾é€‰å–åŠåŸºç¡€é…ç½®å·¥ä½œ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;0. é€‰å–å¯¹åº”çš„æœåŠ¡éƒ¨ç½²å·¥å…·é“¾ï¼ŒæŸ¥é˜…å®˜æ–¹æ–‡æ¡£å¹¶ç»“åˆå½“å‰ç¯å¢ƒåˆ†æéƒ¨ç½²å¯è¡Œæ€§ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬æƒ³è¦åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ä¸€ä¸ªAIå¯¹è¯æœåŠ¡ï¼Œé‚£ä¹ˆç»“åˆå½“å‰éƒ¨ç½²ç¯å¢ƒï¼Œæˆ‘ä»¬å°±åº”è¯¥åœ¨ç½‘ç»œä¸ŠæŸ¥æ‰¾å¯¹åº”çš„&lt;code&gt;docker&lt;/code&gt;é•œåƒï¼ˆimageï¼‰ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨&lt;a href=&#34;https://github.com/SillyTavern/SillyTavern&#34;&gt;LLM Frontend | SillyTavern&lt;/a&gt;è¿›è¡Œéƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥æ¡†æ¶å…·æœ‰dockeré•œåƒï¼Œä¸”æ”¯æŒä½¿ç”¨docker-composeéƒ¨ç½²ï¼Œç¬¦åˆå½“å‰çš„ç¯å¢ƒè¦æ±‚ï¼Œä¸”éƒ¨ç½²éš¾åº¦å’Œæˆæœ¬ç›¸å¯¹è¾ƒä½ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;1. æ‹‰å–dockeré•œåƒï¼ˆå¯è·³è¿‡ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥è·å–å¾…éƒ¨ç½²çš„dockeré•œåƒï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker pull ghcr.io/sillytavern/sillytavern:latest&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨ä½¿ç”¨docker-composeè¿›è¡Œéƒ¨ç½²æ—¶ï¼Œè‹¥&lt;code&gt;docker-compose.yml&lt;/code&gt;é…ç½®æ— è¯¯ï¼Œé•œåƒä¼šè‡ªåŠ¨æ‹‰å–ã€‚æ‰§è¡Œè¿™ä¸€æ­¥ä¸»è¦æ˜¯ä¸ºäº†æå‰åˆ¤å®šé•œåƒæ˜¯å¦å¤„äºå¯è·å–çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;2. æ ¹æ®å·¥å…·æ–‡æ¡£åŠä¸ªäººéœ€æ±‚è¿›è¡Œé…ç½®æ–‡ä»¶çš„é…ç½®æˆ–ä¿®æ”¹&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é¡¹ç›®ä¸»é¡µï¼š&lt;a href=&#34;https://sillytavern.app/&#34;&gt;SillyTavern - LLM Frontend for Power User&lt;/a&gt;&lt;br /&gt;
é¡¹ç›®ä»“åº“ï¼š&lt;a href=&#34;https://github.com/SillyTavern/SillyTavern&#34;&gt;SillyTavern&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;äºŒ-docker-composeymlé…ç½®&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#äºŒ-docker-composeymlé…ç½®&#34;&gt;&lt;/a&gt; äºŒã€docker-compose.ymlé…ç½®&lt;/h4&gt;
&lt;p&gt;ç”±äºdockerçš„å®¹å™¨ç¯å¢ƒæ˜¯æˆ‘ä»¬ç«™ç‚¹çš„éƒ¨ç½²åŸºç¡€ï¼Œè¿™éƒ¨åˆ†çš„é…ç½®ä¾¿æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚å¯å‚è€ƒä»¥ä¸‹æ­¥éª¤è¿›è¡Œé…ç½®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;1. ä¾ç…§æ–‡æ¡£ç»™å‡ºçš„é…ç½®æ¡†æ¶ç»“åˆéƒ¨ç½²ç¯å¢ƒè¿›è¡ŒåŸºç¡€é…ç½®&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®˜æ–¹ç»™å‡ºçš„&lt;code&gt;docker-compose.yml&lt;/code&gt;å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight yml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;services:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;sillytavern:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;build:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;..&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;sillytavern&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;hostname:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;sillytavern&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;ghcr.io/sillytavern/sillytavern:latest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;environment:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;NODE_ENV=production&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;FORCE_COLOR=1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;ports:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;8000:8000&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;./config:/home/node/app/config&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;./data:/home/node/app/data&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;./plugins:/home/node/app/plugins&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;./extensions:/home/node/app/public/scripts/extensions/third-party&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;restart:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;unless-stopped&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘ä»¬å¯ç»“åˆéƒ¨ç½²ç¯å¢ƒä¸éƒ¨ç½²éœ€æ±‚å¯¹&lt;code&gt;environment&lt;/code&gt;ã€&lt;code&gt;volumes&lt;/code&gt;ã€&lt;code&gt;port&lt;/code&gt;ä¸­çš„å€¼è¿›è¡Œä¿®æ”¹ï¼ŒåŒæ—¶è¿˜éœ€æ³¨æ„&lt;code&gt;docker-compose.yml&lt;/code&gt;ä¸æœåŠ¡è‡ªèº«é…ç½®ï¼ˆ&lt;code&gt;config.yaml&lt;/code&gt;ï¼‰çš„å¯¹åº”å…³ç³»ã€‚æ¯”å¦‚ï¼Œé’ˆå¯¹&lt;code&gt;port&lt;/code&gt;å‚æ•°ï¼Œ&lt;code&gt;config.yaml&lt;/code&gt;ä¸­é»˜è®¤å°†æœåŠ¡æ˜ å°„åœ¨&lt;code&gt;8000&lt;/code&gt;ç«¯å£ä¸Šï¼Œè‹¥ä¸¤ä¸ªé…ç½®ä¸å¯¹åº”ï¼Œåœ¨è®¿é—®æ—¶å°±ä¼šé‡åˆ°&lt;code&gt;502(Bad Gateway)&lt;/code&gt;é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼šç”±äºnginxæœåŠ¡ä¹Ÿè¿è¡Œäºå®¹å™¨ä¸­ï¼Œæ•…åœ¨æ­¤é¡¹ç›®çš„å®é™…é…ç½®ä¸éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼ŒçœŸæ­£æœ‰æ•ˆçš„ç«¯å£å‚æ•°æ˜¯&lt;code&gt;port&lt;/code&gt;å‚æ•°çš„&lt;strong&gt;å®¹å™¨æœåŠ¡ç«¯å£&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;2. ç½‘ç»œå…³ç³»é…ç½®&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®¹å™¨åŒ–æŠ€æœ¯çš„ä¸€å¤§äº®ç‚¹åœ¨äºä¸åŒæœåŠ¡å®¹å™¨ç¯å¢ƒç›¸äº’ç‹¬ç«‹çš„æƒ…å†µä¸‹ä¹Ÿå¯é€šè¿‡å½¢å½¢è‰²è‰²çš„é…ç½®å»ºç«‹èµ·å„ä¸ªå®¹å™¨é—´çš„è”ç³»ã€‚é…ç½®è¿™äº›ä¸œè¥¿è¿‡ç¨‹è¢«åŒæ¶å®¹å™¨æŠ€æœ¯çš„äººæ‰€è¯Ÿç—…ï¼Œè¿™äº›äººè®¤ä¸ºè¯¥è¿‡ç¨‹å¾’å¢å·¥ä½œå¤æ‚åº¦ï¼Œæ®Šä¸çŸ¥è¿™æ˜¯è¢«ä»–ä»¬æ‰€å¿½ç•¥çš„æœ¬èŒå·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡é—´ç½‘ç»œå…³ç³»çš„é…ç½®ä¹Ÿæ˜¯ä¸Šè¿°å…³ç³»é…ç½®ä¸­çš„ä¸€ç¯ï¼Œé€šè¿‡å‰æ–‡çš„é…ç½®æˆ‘ä»¬çŸ¥é“ï¼Œå„ä¸ªæœåŠ¡çš„ç½‘ç»œé…ç½®é€šè¿‡&lt;code&gt;networks&lt;/code&gt;å‚æ•°æ§åˆ¶ï¼Œè€Œåœ¨è¯¥é¡¹ç›®ä¸­æˆ‘ä»¬ç»Ÿä¸€ä½¿ç”¨&lt;code&gt;web_network&lt;/code&gt;ä½œä¸ºå„ä¸ªæœåŠ¡çš„ç½‘ç»œé…ç½®å‚æ•°ã€‚æ•…åœ¨å®˜æ–¹æ–‡æ¡£åŸæœ‰æ¡†æ¶çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæ¨¡å—è¿½åŠ å¦‚ä¸‹é…ç½®ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight yml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;web_network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;!-- å¦åˆ™ä¼šå¯¼è‡´sillytavernå®¹å™¨æœªè¿æ¥åˆ°web_networkç½‘ç»œï¼Œå‡ºç°å®¹å™¨é”™è¯¯ --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;3. æœåŠ¡ä¾èµ–å…³ç³»&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å’Œç½‘ç»œå…³ç³»ç›¸æ¯”ï¼Œä¸åŒæœåŠ¡çš„ä¾èµ–å…³ç³»åœ¨ä½“ç°å„ä¸ªæœåŠ¡å®¹å™¨ä¹‹é—´çš„è”ç³»ä¸Šæ›´åŠ ç›´æ¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œç”±äºéœ€è¦ä½¿ç”¨nginxå¯¹å„ä¸ªæœåŠ¡è¿›è¡Œè½¬å‘ï¼Œä¾èµ–å…³ç³»ä¾¿ä½“ç°åœ¨å„ä¸ªéƒ¨ç½²åœ¨äºŒçº§åŸŸåä¸Šçš„æœåŠ¡ä¸nginxæœåŠ¡ä¸Šã€‚å®Œæˆ&lt;code&gt;sillytavern&lt;/code&gt;æœåŠ¡çš„é…ç½®åï¼Œæˆ‘ä»¬éœ€è¦åœ¨nginxæ¨¡å—çš„&lt;code&gt;depend_on&lt;/code&gt;å‚æ•°è¿½åŠ å¦‚ä¸‹é…ç½®ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight yml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;depend_on:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;.....&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;sillytavern&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;!--æ˜¾å¼å£°æ˜å®¹å™¨ä¾èµ–å…³ç³»ï¼Œç¡®ä¿sillytavernå…ˆäºnginxå¯åŠ¨ï¼Œå¦åˆ™ä¼šå‡ºç°nginxå®¹å™¨é”™è¯¯ --&gt;
&lt;h4 id=&#34;ä¸‰-nginx-httpsæ¨¡å—é…ç½®&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¸‰-nginx-httpsæ¨¡å—é…ç½®&#34;&gt;&lt;/a&gt; ä¸‰ã€nginx-httpsæ¨¡å—é…ç½®&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;1. åå‘ä»£ç†åŸºç¡€é…ç½®ï¼ˆhttpæ¨¡å—ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾ç…§å‰æ–‡åŸºç¡€é…ç½®çš„&lt;code&gt;nginx.conf&lt;/code&gt;æ¨¡æ¿è¿›è¡Œä¿®æ”¹å³å¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;2. sslè¯ä¹¦ç”³è¯·åŠhttpsæ¨¡å—é…ç½®&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éµå¾ª&lt;code&gt;å¤åˆ¶æ¨¡æ¿&lt;/code&gt;-&lt;code&gt;æ³¨é‡Š&lt;/code&gt;-&lt;code&gt;è§£é™¤æ³¨é‡Š&lt;/code&gt;-&lt;code&gt;ç”³è¯·&lt;/code&gt;-&lt;code&gt;è§£é™¤æ³¨é‡Š&lt;/code&gt;çš„â€œäº”æ­¥åŸåˆ™â€ã€‚æ³¨é‡ŠåŠè§£é™¤æ³¨é‡Šæ“ä½œçš„å¯¹åº”æ¨¡å—å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨é‡Š&lt;/strong&gt;ï¼šæ³¨é‡Š&lt;strong&gt;httpåå‘ä»£ç†æ¨¡å—&lt;/strong&gt;&lt;br /&gt;
&lt;strong&gt;ç¬¬ä¸€æ¬¡è§£é™¤æ³¨é‡Š&lt;/strong&gt;ï¼šè§£é™¤&lt;strong&gt;http ACMEéªŒè¯æŒ‘æˆ˜æ¨¡å—&lt;/strong&gt;æ³¨é‡Š&lt;br /&gt;
&lt;strong&gt;ç¬¬äºŒæ¬¡è§£é™¤æ³¨é‡Š&lt;/strong&gt;ï¼šè§£é™¤&lt;strong&gt;httpsåå‘ä»£ç†æ¨¡å—&lt;/strong&gt;æ³¨é‡Š&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;å®Œæˆä»¥ä¸Šä¸‰å¤§æ­¥ï¼Œ8å°æ­¥çš„é…ç½®ä¸éƒ¨ç½²æ“ä½œï¼Œéƒ¨ç½²å·¥ä½œåŸºæœ¬ä¹Ÿå°±å®Œæˆäº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¸¸è§é—®é¢˜&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å¸¸è§é—®é¢˜&#34;&gt;&lt;/a&gt; å¸¸è§é—®é¢˜&lt;/h2&gt;
&lt;p&gt;éƒ¨ç½²è¿‡ç¨‹ä¸­ç»å¸¸ä¼šç¢°åˆ°ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯ä¸ç†Ÿæ‚‰dockerã€nginxé…ç½®è§„åˆ™çš„åˆå­¦è€…ã€‚ä¸‹é¢æ˜¯æˆ‘åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜çš„æ±‡æ€»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;nginxé”™è¯¯-æœåŠ¡è®¿é—®é”™è¯¯&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#nginxé”™è¯¯-æœåŠ¡è®¿é—®é”™è¯¯&#34;&gt;&lt;/a&gt; nginxé”™è¯¯ã€æœåŠ¡è®¿é—®é”™è¯¯&lt;/h3&gt;
&lt;p&gt;é€šå¸¸è¡¨ç°ä¸ºnginxå®¹å™¨æ— æ³•æ­£å¸¸è¿è¡Œï¼Œç½‘é¡µè®¿é—®&lt;code&gt;500&lt;/code&gt;ã€ç½‘é¡µè®¿é—®&lt;code&gt;502&lt;/code&gt;ç­‰ï¼Œå…·ä½“åŸå› å¯èƒ½æœ‰å¦‚ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;nginx.conf&lt;/code&gt;é…ç½®é”™è¯¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é€šå¸¸æ˜¯åå‘ä»£ç†æ¨¡å—ä¸­&lt;code&gt;proxy_pass&lt;/code&gt;å‚æ•°çš„é…ç½®æœ‰è¯¯ï¼Œæ¯”å¦‚åç«¯æœåŠ¡çš„&lt;strong&gt;ç«¯å£&lt;/strong&gt;æˆ–&lt;strong&gt;æœåŠ¡åç§°&lt;/strong&gt;ä¸&lt;code&gt;docker-compose.yml&lt;/code&gt;ä¸­é…ç½®çš„ä¸å¯¹åº”ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;docker-compose.yml&lt;/code&gt;é…ç½®é”™è¯¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é€šå¸¸æ˜¯å‰æ–‡æåˆ°çš„ä¸åŒå®¹å™¨é—´å…³ç³»çš„é…ç½®æœ‰è¯¯æˆ–è€…ç¼ºå¤±ï¼Œç‰¹åˆ«æ˜¯nginxæœåŠ¡ä¸å…¶ä»–éœ€è¦é€šè¿‡nginxæœåŠ¡è¿›è¡Œè½¬å‘çš„æœåŠ¡ä¹‹é—´çš„å…³ç³»ã€‚å¦‚&lt;code&gt;networks&lt;/code&gt;é…ç½®ã€å®¹å™¨ä¾èµ–å…³ç³»é…ç½®ï¼›ä»¥åŠå‰æ–‡æåˆ°çš„æœåŠ¡é…ç½®ä¸docker-composeé…ç½®çš„å¯¹åº”å…³ç³»é—®é¢˜ï¼Œå¦‚æœåŠ¡ç«¯å£çš„å¯¹åº”é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;sslè¯ä¹¦ç”³è¯·certboté”™è¯¯&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sslè¯ä¹¦ç”³è¯·certboté”™è¯¯&#34;&gt;&lt;/a&gt; sslè¯ä¹¦ç”³è¯·ï¼ˆcertbotï¼‰é”™è¯¯&lt;/h3&gt;
&lt;p&gt;é€šå¸¸è¡¨ç°ä¸ºæ— æ³•ç”³è¯·sslè¯ä¹¦ã€ç”³è¯·è¯ä¹¦åè®¿é—®æ˜¾ç¤ºâ€œ&lt;s&gt;https&lt;/s&gt;ç½‘é¡µä¸å®‰å…¨â€ç­‰ï¼Œå…·ä½“åŸå› å¯èƒ½æœ‰å¦‚ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ— æ³•ç”³è¯·sslè¯ä¹¦ï¼ˆcertbotæ— æ³•æ­£å¸¸è¿è¡Œï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;1. åŒä¸€åŸŸååœ¨çŸ­æ—¶é—´å†…ç”³è¯·æ¬¡æ•°è¿‡å¤š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. &lt;code&gt;nginx.conf&lt;/code&gt;ä¸­http ACMEéªŒè¯æŒ‘æˆ˜æ¨¡å—é…ç½®æœ‰è¯¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. åœ¨ç‰¹æ®Šç¯å¢ƒï¼ˆå¦‚éœ€è¦è¿›è¡Œç”¨æˆ·éªŒè¯ï¼‰ä¸‹æœªæ³¨é‡Šhttpåå‘ä»£ç†æ¨¡å—å¯¼è‡´æ— æ³•è®¿é—®æœåŠ¡çš„é—®é¢˜ï¼ˆå¦‚&lt;code&gt;401&lt;/code&gt;ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. åŸŸåæœ¬èº«æ— æ³•æ­£å¸¸è®¿é—®ï¼ˆ&lt;code&gt;5xx&lt;/code&gt;ã€&lt;code&gt;4xx&lt;/code&gt;ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¿é—®é—®é¢˜ï¼ˆæç¤ºç½‘ç«™ä¸å®‰å…¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;1. ç”³è¯·sslè¯ä¹¦æ—¶ä¿¡æ¯æœ‰è¯¯ï¼Œå¦‚äºŒçº§åŸŸååç§°é”™è¯¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. &lt;code&gt;nginx.conf&lt;/code&gt;ä¸­httpsæ¨¡å—äºŒçº§åŸŸåï¼ˆserver_nameï¼‰é…ç½®æœ‰è¯¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. &lt;code&gt;nginx.conf&lt;/code&gt;ä¸­httpsæ¨¡å—è¯ä¹¦è·¯å¾„æœ‰è¯¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…³é”®åœ¨ä¸è¯ä¹¦ä¸åŸŸåçš„å¯¹åº”å…³ç³»æ˜¯å¦æœ‰è¯¯ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;END&lt;/strong&gt;&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
